<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Type Classes'ish in FSharp</title>
    <meta name="description" content="Type Class-like programmin in FSharp">
    <meta name="author" content="William Coletto">
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <script src="//code.jquery.com/jquery-1.8.0.js"></script>
    <script src="//code.jquery.com/ui/1.8.23/jquery-ui.js"></script>
    <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link href="//netdna.bootstrapcdn.com/twitter-bootstrap/2.2.1/css/bootstrap-combined.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/reveal.css">
    <link rel="stylesheet" href="css/theme/night.css" id="theme">
    <link type="text/css" rel="stylesheet" href="fsharp.formatting/styles/style.css" />
    <link type="text/css" rel="stylesheet" href="fsharp.formatting/styles/deedle.css" />
    <link type="text/css" rel="stylesheet" href="css/custom.css" />
    <script src="fsharp.formatting/styles/tips.js" type="text/javascript"></script>
    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">
    <link rel="stylesheet" href="css/fsreveal.css">
    <!-- If the query includes 'print-pdf', include the PDF print sheet -->
    <script>
			if( window.location.search.match( /print-pdf/gi ) ) {
				var link = document.createElement( 'link' );
				link.rel = 'stylesheet';
				link.type = 'text/css';
				link.href = 'css/print/pdf.css';
				document.getElementsByTagName( 'head' )[0].appendChild( link );
			}
    </script>
    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
    <script language="javascript" type="text/javascript">
        function init()
        {
            websocket = new WebSocket("ws://"+window.location.host+"/websocket");
            websocket.onmessage = function(evt) { location.reload(); };
        }
        window.addEventListener("load", init, false);
    </script>
</head>
<body>
    <div class="reveal">
        <div class="tip" id="fs1">Multiple items<br />module List<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type List&lt;&#39;T&gt; =<br />&#160;&#160;| ( [] )<br />&#160;&#160;| ( :: ) of Head: &#39;T * Tail: &#39;T list<br />&#160;&#160;interface IEnumerable<br />&#160;&#160;interface IEnumerable&lt;&#39;T&gt;<br />&#160;&#160;member GetSlice : startIndex:int option * endIndex:int option -&gt; &#39;T list<br />&#160;&#160;member Head : &#39;T<br />&#160;&#160;member IsEmpty : bool<br />&#160;&#160;member Item : index:int -&gt; &#39;T with get<br />&#160;&#160;member Length : int<br />&#160;&#160;member Tail : &#39;T list<br />&#160;&#160;static member Cons : head:&#39;T * tail:&#39;T list -&gt; &#39;T list<br />&#160;&#160;static member Empty : &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List&lt;_&gt;</div>
<div class="tip" id="fs2">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; list:&#39;T list -&gt; &#39;U list<br /><br />Full name: Microsoft.FSharp.Collections.List.map</div>
<div class="tip" id="fs3">val filter : predicate:(&#39;T -&gt; bool) -&gt; list:&#39;T list -&gt; &#39;T list<br /><br />Full name: Microsoft.FSharp.Collections.List.filter</div>
<div class="tip" id="fs4">val x : int</div>
<div class="tip" id="fs5">val toArray : list:&#39;T list -&gt; &#39;T []<br /><br />Full name: Microsoft.FSharp.Collections.List.toArray</div>
<div class="tip" id="fs6">module Array<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs7">val reduce : reduction:(&#39;T -&gt; &#39;T -&gt; &#39;T) -&gt; array:&#39;T [] -&gt; &#39;T<br /><br />Full name: Microsoft.FSharp.Collections.Array.reduce</div>
<div class="tip" id="fs8">val a : int</div>
<div class="tip" id="fs9">val y : f:(int -&gt; &#39;a) -&gt; &#39;a * &#39;a<br /><br />Full name: Typeclassish.y</div>
<div class="tip" id="fs10">val f : (int -&gt; &#39;a)</div>
<div class="tip" id="fs11">val a : &#39;a</div>
<div class="tip" id="fs12">val b : &#39;a</div>
<div class="tip" id="fs13">type BinaryTree&lt;&#39;T&gt; =<br />&#160;&#160;| Element of &#39;T<br />&#160;&#160;| Tree of &#39;T * BinaryTree&lt;&#39;T&gt; * BinaryTree&lt;&#39;T&gt;<br />&#160;&#160;member Map : f:(&#39;T -&gt; &#39;a) -&gt; BinaryTree&lt;&#39;a&gt;<br /><br />Full name: Typeclassish.BinaryTree&lt;_&gt;</div>
<div class="tip" id="fs14">union case BinaryTree.Element: &#39;T -&gt; BinaryTree&lt;&#39;T&gt;</div>
<div class="tip" id="fs15">union case BinaryTree.Tree: &#39;T * BinaryTree&lt;&#39;T&gt; * BinaryTree&lt;&#39;T&gt; -&gt; BinaryTree&lt;&#39;T&gt;</div>
<div class="tip" id="fs16">val this : BinaryTree&lt;&#39;T&gt;</div>
<div class="tip" id="fs17">Multiple items<br />member BinaryTree.Map : f:(&#39;T -&gt; &#39;a) -&gt; BinaryTree&lt;&#39;a&gt;<br /><br />Full name: Typeclassish.BinaryTree`1.Map<br /><br />--------------------<br />module Map<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type Map&lt;&#39;Key,&#39;Value (requires comparison)&gt; =<br />&#160;&#160;interface IEnumerable<br />&#160;&#160;interface IComparable<br />&#160;&#160;interface IEnumerable&lt;KeyValuePair&lt;&#39;Key,&#39;Value&gt;&gt;<br />&#160;&#160;interface ICollection&lt;KeyValuePair&lt;&#39;Key,&#39;Value&gt;&gt;<br />&#160;&#160;interface IDictionary&lt;&#39;Key,&#39;Value&gt;<br />&#160;&#160;new : elements:seq&lt;&#39;Key * &#39;Value&gt; -&gt; Map&lt;&#39;Key,&#39;Value&gt;<br />&#160;&#160;member Add : key:&#39;Key * value:&#39;Value -&gt; Map&lt;&#39;Key,&#39;Value&gt;<br />&#160;&#160;member ContainsKey : key:&#39;Key -&gt; bool<br />&#160;&#160;override Equals : obj -&gt; bool<br />&#160;&#160;member Remove : key:&#39;Key -&gt; Map&lt;&#39;Key,&#39;Value&gt;<br />&#160;&#160;...<br /><br />Full name: Microsoft.FSharp.Collections.Map&lt;_,_&gt;<br /><br />--------------------<br />new : elements:seq&lt;&#39;Key * &#39;Value&gt; -&gt; Map&lt;&#39;Key,&#39;Value&gt;</div>
<div class="tip" id="fs18">val f : (&#39;T -&gt; &#39;a)</div>
<div class="tip" id="fs19">val x : &#39;T</div>
<div class="tip" id="fs20">val left : BinaryTree&lt;&#39;T&gt;</div>
<div class="tip" id="fs21">val right : BinaryTree&lt;&#39;T&gt;</div>
<div class="tip" id="fs22">member BinaryTree.Map : f:(&#39;T -&gt; &#39;a) -&gt; BinaryTree&lt;&#39;a&gt;</div>
<div class="tip" id="fs23">val t1 : BinaryTree&lt;int&gt;<br /><br />Full name: Typeclassish.t1</div>
<div class="tip" id="fs24">val t2 : BinaryTree&lt;int&gt;<br /><br />Full name: Typeclassish.t2</div>
<div class="tip" id="fs25">Multiple items<br />union case Vector2D.Vector2D: &#39;a * &#39;a -&gt; Vector2D&lt;&#39;a&gt;<br /><br />--------------------<br />type Vector2D&lt;&#39;a&gt; =<br />&#160;&#160;| Vector2D of &#39;a * &#39;a<br />&#160;&#160;static member ( ~-. ) : Vector2D&lt;&#39;a0&gt; -&gt; Vector2D&lt;&#39;a0&gt; (requires member ( ~- ))<br /><br />Full name: Typeclassish.Vector2D&lt;_&gt;</div>
<div class="tip" id="fs26">val a1 : &#39;a (requires member ( ~- ))</div>
<div class="tip" id="fs27">val a2 : &#39;a (requires member ( ~- ))</div>
<div class="tip" id="fs28">Multiple items<br />union case Vector3D.Vector3D: &#39;a * &#39;a * &#39;a -&gt; Vector3D&lt;&#39;a&gt;<br /><br />--------------------<br />type Vector3D&lt;&#39;a&gt; =<br />&#160;&#160;| Vector3D of &#39;a * &#39;a * &#39;a<br />&#160;&#160;static member ( ~-. ) : Vector3D&lt;&#39;a0&gt; -&gt; Vector3D&lt;&#39;a0&gt; (requires member ( ~- ))<br /><br />Full name: Typeclassish.Vector3D&lt;_&gt;</div>
<div class="tip" id="fs29">val a3 : &#39;a (requires member ( ~- ))</div>
<div class="tip" id="fs30">val a : Vector2D&lt;float&gt;<br /><br />Full name: Typeclassish.a</div>
<div class="tip" id="fs31">val b : Vector3D&lt;float&gt;<br /><br />Full name: Typeclassish.b</div>
<div class="tip" id="fs32">namespace Coletto</div>
<div class="tip" id="fs33">namespace Coletto.TypeClassish</div>
<div class="tip" id="fs34">module Collections<br /><br />from Coletto.TypeClassish</div>
<div class="tip" id="fs35">module Base<br /><br />from Coletto.TypeClassish.Collections</div>
<div class="tip" id="fs36">val amap : int list<br /><br />Full name: Typeclassish.amap</div>
<div class="tip" id="fs37">val simplemap : f:(&#39;a -&gt; &#39;b) -&gt; x:&#39;c -&gt; &#39;M (requires member ( ?&lt;- ))<br /><br />Full name: Coletto.TypeClassish.Collections.Base.simplemap</div>
<div class="tip" id="fs38">val bmap : int array<br /><br />Full name: Typeclassish.bmap</div>
<div class="tip" id="fs39">val cmap : int option<br /><br />Full name: Typeclassish.cmap</div>
<div class="tip" id="fs40">union case Option.Some: Value: &#39;T -&gt; Option&lt;&#39;T&gt;</div>
<div class="tip" id="fs41">Multiple items<br />union case Fmap.Fmap: Fmap<br /><br />--------------------<br />type Fmap =<br />&#160;&#160;| Fmap<br />&#160;&#160;static member ( $ ) : Fmap:Fmap * x:&#39;a array -&gt; ((&#39;a -&gt; &#39;b) -&gt; &#39;b [])<br />&#160;&#160;static member ( $ ) : Fmap:Fmap * x:&#39;a list -&gt; ((&#39;a -&gt; &#39;b) -&gt; &#39;b list)<br />&#160;&#160;static member ( $ ) : Fmap:Fmap * x:&#39;a option -&gt; ((&#39;a -&gt; &#39;b) -&gt; &#39;b option)<br /><br />Full name: Typeclassish.Fmap</div>
<div class="tip" id="fs42">val x : &#39;a array</div>
<div class="tip" id="fs43">type &#39;T array = &#39;T []<br /><br />Full name: Microsoft.FSharp.Core.array&lt;_&gt;</div>
<div class="tip" id="fs44">val f : (&#39;a -&gt; &#39;b)</div>
<div class="tip" id="fs45">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; array:&#39;T [] -&gt; &#39;U []<br /><br />Full name: Microsoft.FSharp.Collections.Array.map</div>
<div class="tip" id="fs46">val x : &#39;a list</div>
<div class="tip" id="fs47">type &#39;T list = List&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.list&lt;_&gt;</div>
<div class="tip" id="fs48">val x : &#39;a option</div>
<div class="tip" id="fs49">type &#39;T option = Option&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Core.option&lt;_&gt;</div>
<div class="tip" id="fs50">module Option<br /><br />from Microsoft.FSharp.Core</div>
<div class="tip" id="fs51">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; option:&#39;T option -&gt; &#39;U option<br /><br />Full name: Microsoft.FSharp.Core.Option.map</div>
<div class="tip" id="fs52">val map : f:&#39;a -&gt; x:&#39;b -&gt; &#39;c (requires member ( $ ))<br /><br />Full name: Typeclassish.map</div>
<div class="tip" id="fs53">val f : &#39;a</div>
<div class="tip" id="fs54">val x : &#39;b (requires member ( $ ))</div>
<div class="tip" id="fs55">val exampleFunction : a:int -&gt; b:int -&gt; int<br /><br />Full name: Typeclassish.exampleFunction</div>
<div class="tip" id="fs56">val b : int</div>
<div class="tip" id="fs57">val x : int<br /><br />Full name: Typeclassish.x</div>
<div class="tip" id="fs58">val y : int<br /><br />Full name: Typeclassish.y</div>
<div class="tip" id="fs59">val exampleFunction&#39; : a:&#39;a -&gt; b:&#39;b -&gt; &#39;c (requires member ( + ))<br /><br />Full name: Typeclassish.exampleFunction&#39;</div>
<div class="tip" id="fs60">val a : &#39;a (requires member ( + ))</div>
<div class="tip" id="fs61">val b : &#39;b (requires member ( + ))</div>
<div class="tip" id="fs62">val x&#39; : int<br /><br />Full name: Typeclassish.x&#39;</div>
<div class="tip" id="fs63">val y&#39; : float<br /><br />Full name: Typeclassish.y&#39;</div>
<div class="tip" id="fs64">Multiple items<br />val seq : sequence:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Core.Operators.seq<br /><br />--------------------<br />type seq&lt;&#39;T&gt; = System.Collections.Generic.IEnumerable&lt;&#39;T&gt;<br /><br />Full name: Microsoft.FSharp.Collections.seq&lt;_&gt;</div>
<div class="tip" id="fs65">module Seq<br /><br />from Microsoft.FSharp.Collections</div>
<div class="tip" id="fs66">val map : mapping:(&#39;T -&gt; &#39;U) -&gt; source:seq&lt;&#39;T&gt; -&gt; seq&lt;&#39;U&gt;<br /><br />Full name: Microsoft.FSharp.Collections.Seq.map</div>
<div class="tip" id="fs67">Multiple items<br />union case Tree.Tree: &#39;t * Tree&lt;&#39;t&gt; * Tree&lt;&#39;t&gt; -&gt; Tree&lt;&#39;t&gt;<br /><br />--------------------<br />type Tree&lt;&#39;t&gt; =<br />&#160;&#160;| Tree of &#39;t * Tree&lt;&#39;t&gt; * Tree&lt;&#39;t&gt;<br />&#160;&#160;| Leaf of &#39;t<br /><br />Full name: Typeclassish.Tree&lt;_&gt;</div>
<div class="tip" id="fs68">union case Tree.Leaf: &#39;t -&gt; Tree&lt;&#39;t&gt;</div>
<div class="tip" id="fs69">Multiple items<br />union case ThreeMap.ThreeMap: ThreeMap<br /><br />--------------------<br />type ThreeMap =<br />&#160;&#160;| ThreeMap<br />&#160;&#160;static member ( ?&lt;- ) : x:&#39;a array * _Blank:ThreeMap * &#39;b array -&gt; ((&#39;a -&gt; &#39;b) -&gt; &#39;b array)<br />&#160;&#160;static member ( ?&lt;- ) : x:&#39;a list * _Blank:ThreeMap * &#39;b list -&gt; ((&#39;a -&gt; &#39;b) -&gt; &#39;b list)<br />&#160;&#160;static member ( ?&lt;- ) : x:&#39;a option * _Blank:ThreeMap * &#39;b option -&gt; ((&#39;a -&gt; &#39;b) -&gt; &#39;b option)<br />&#160;&#160;static member ( ?&lt;- ) : x:Tree&lt;&#39;a&gt; * _Blank:ThreeMap * Tree&lt;&#39;b&gt; -&gt; ((&#39;a -&gt; &#39;b) -&gt; Tree&lt;&#39;b&gt;)<br /><br />Full name: Typeclassish.ThreeMap</div>
<div class="tip" id="fs70">val x : Tree&lt;&#39;a&gt;</div>
<div class="tip" id="fs71">val loop : ((&#39;a -&gt; &#39;b) -&gt; Tree&lt;&#39;a&gt; -&gt; Tree&lt;&#39;b&gt;)</div>
<div class="tip" id="fs72">val x : &#39;a</div>
<div class="tip" id="fs73">val t1 : Tree&lt;&#39;a&gt;</div>
<div class="tip" id="fs74">val t2 : Tree&lt;&#39;a&gt;</div>
<div class="tip" id="fs75">val threemap : f:(&#39;a -&gt; &#39;b) -&gt; x:&#39;a0 -&gt; &#39;M (requires member ( ?&lt;- ))<br /><br />Full name: Typeclassish.threemap</div>
<div class="tip" id="fs76">val x : &#39;a (requires member ( ?&lt;- ))</div>
<div class="tip" id="fs77">module Unchecked<br /><br />from Microsoft.FSharp.Core.Operators</div>
<div class="tip" id="fs78">val defaultof&lt;&#39;T&gt; : &#39;T<br /><br />Full name: Microsoft.FSharp.Core.Operators.Unchecked.defaultof</div>
<div class="tip" id="fs79">val ma : int list<br /><br />Full name: Typeclassish.ma</div>
<div class="tip" id="fs80">val mb : int array<br /><br />Full name: Typeclassish.mb</div>
<div class="tip" id="fs81">val mc : int option<br /><br />Full name: Typeclassish.mc</div>
<div class="tip" id="fs82">val mt : Tree&lt;int&gt;<br /><br />Full name: Typeclassish.mt</div>
<div class="tip" id="fs83">type Default2<br /><br />Full name: Typeclassish.Default2</div>
<div class="tip" id="fs84">type Default1 =<br />&#160;&#160;inherit Default2<br /><br />Full name: Typeclassish.Default1</div>
<div class="tip" id="fs85">Multiple items<br />module Map<br /><br />from Microsoft.FSharp.Collections<br /><br />--------------------<br />type Map =<br />&#160;&#160;inherit Default1<br />&#160;&#160;static member Invoke : mapping:(&#39;T -&gt; &#39;U) -&gt; source:&#39;A -&gt; &#39;B (requires member Map)<br />&#160;&#160;static member InvokeOnInstance : mapping:(&#39;T -&gt; &#39;U) -&gt; source:&#39;A -&gt; &#39;B (requires member Map)<br /><br />Full name: Typeclassish.Map<br /><br />--------------------<br />type Map&lt;&#39;Key,&#39;Value (requires comparison)&gt; =<br />&#160;&#160;interface IEnumerable<br />&#160;&#160;interface IComparable<br />&#160;&#160;interface IEnumerable&lt;KeyValuePair&lt;&#39;Key,&#39;Value&gt;&gt;<br />&#160;&#160;interface ICollection&lt;KeyValuePair&lt;&#39;Key,&#39;Value&gt;&gt;<br />&#160;&#160;interface IDictionary&lt;&#39;Key,&#39;Value&gt;<br />&#160;&#160;new : elements:seq&lt;&#39;Key * &#39;Value&gt; -&gt; Map&lt;&#39;Key,&#39;Value&gt;<br />&#160;&#160;member Add : key:&#39;Key * value:&#39;Value -&gt; Map&lt;&#39;Key,&#39;Value&gt;<br />&#160;&#160;member ContainsKey : key:&#39;Key -&gt; bool<br />&#160;&#160;override Equals : obj -&gt; bool<br />&#160;&#160;member Remove : key:&#39;Key -&gt; Map&lt;&#39;Key,&#39;Value&gt;<br />&#160;&#160;...<br /><br />Full name: Microsoft.FSharp.Collections.Map&lt;_,_&gt;<br /><br />--------------------<br />new : elements:seq&lt;&#39;Key * &#39;Value&gt; -&gt; Map&lt;&#39;Key,&#39;Value&gt;</div>
<div class="tip" id="fs86">static member Map.Invoke : mapping:(&#39;T -&gt; &#39;U) -&gt; source:&#39;A -&gt; &#39;B (requires member Map)<br /><br />Full name: Typeclassish.Map.Invoke</div>
<div class="tip" id="fs87">val mapping : (&#39;T -&gt; &#39;U)</div>
<div class="tip" id="fs88">val source : &#39;A (requires member Map)</div>
<div class="tip" id="fs89">val call : (&#39;M * &#39;I * &#39;R -&gt; &#39;a) (requires member Map)</div>
<div class="tip" id="fs90">val mthd : &#39;M (requires member Map)</div>
<div class="tip" id="fs91">val source : &#39;I (requires member Map)</div>
<div class="tip" id="fs92">static member Map.InvokeOnInstance : mapping:(&#39;T -&gt; &#39;U) -&gt; source:&#39;A -&gt; &#39;B (requires member Map)<br /><br />Full name: Typeclassish.Map.InvokeOnInstance</div>
<div class="tip" id="fs93">static member Map.InvokeOnInstance : mapping:(&#39;T -&gt; &#39;U) -&gt; source:&#39;A -&gt; &#39;B (requires member Map)</div>
<div class="tip" id="fs94">val iter : action:(&#39;T -&gt; unit) -&gt; source:seq&lt;&#39;T&gt; -&gt; unit<br /><br />Full name: Microsoft.FSharp.Collections.Seq.iter</div>
<div class="tip" id="fs95">active recognizer KeyValue: System.Collections.Generic.KeyValuePair&lt;&#39;Key,&#39;Value&gt; -&gt; &#39;Key * &#39;Value<br /><br />Full name: Microsoft.FSharp.Core.Operators.( |KeyValue| )</div>
<div class="tip" id="fs96">static member Map.Invoke : mapping:(&#39;T -&gt; &#39;U) -&gt; source:&#39;A -&gt; &#39;B (requires member Map)</div>
<div class="tip" id="fs97">module Mapping<br /><br />from Coletto.TypeClassish.Collections</div>
<div class="tip" id="fs98">Multiple items<br />type SealedAttribute =<br />&#160;&#160;inherit Attribute<br />&#160;&#160;new : unit -&gt; SealedAttribute<br />&#160;&#160;new : value:bool -&gt; SealedAttribute<br />&#160;&#160;member Value : bool<br /><br />Full name: Microsoft.FSharp.Core.SealedAttribute<br /><br />--------------------<br />new : unit -&gt; SealedAttribute<br />new : value:bool -&gt; SealedAttribute</div>

        <!-- Any section element inside of this container is displayed as a slide -->
        <div class="slides">
            <section >
<section >
<br />
<h1>Type Classes in FSharp</h1>
<img style="border: none; height:3em; padding-left:5em" src="images/fsharp.png" alt="FSharp logo" />
<img style="border: none; height:3em; padding-left:5em" src="images/Prolucid-Logo-White.png" alt="Prolucid logo" />
<br />
<ul>
<li>William Coletto</li>
<li>@willisbueller</li>
<li>github/angrydexterous</li>
</ul>
</section>
<section >
<h3>More intro</h3>
<ul>
<li>Presentation available at <a href="https://angrydexterous.github.io/typeclassish.html#/"><a href="https://angrydexterous.github.io/typeclassish.html#/">https://angrydexterous.github.io/typeclassish.html#/</a></a></li>
<li>Code available at <a href="https://github.com/angrydexterous/FsReveal-Type-Classish"><a href="https://github.com/angrydexterous/FsReveal-Type-Classish">https://github.com/angrydexterous/FsReveal-Type-Classish</a></a></li>
</ul>
</section>
</section>
<section >
<section >
<h3>Type-Classes</h3>
<h4>Why should I care?</h4>
<h5>Simplest Example</h5>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp">[<span class="n">1..</span><span class="n">100</span>]
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs1', 1)" onmouseover="showTip(event, 'fs1', 1)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs2', 2)" onmouseover="showTip(event, 'fs2', 2)" class="f">map</span> ((<span class="o">+</span>) <span class="n">10</span>)
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs1', 3)" onmouseover="showTip(event, 'fs1', 3)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs3', 4)" onmouseover="showTip(event, 'fs3', 4)" class="f">filter</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs4', 5)" onmouseover="showTip(event, 'fs4', 5)" class="i">x</span> <span class="k">-&gt;</span> (<span onmouseout="hideTip(event, 'fs4', 6)" onmouseover="showTip(event, 'fs4', 6)" class="i">x</span> <span class="o">%</span> <span class="n">2</span>) <span class="o">=</span> <span class="n">0</span>)
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs1', 7)" onmouseover="showTip(event, 'fs1', 7)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs2', 8)" onmouseover="showTip(event, 'fs2', 8)" class="f">map</span> (<span class="o">(*)</span> <span class="n">2</span>)
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs1', 9)" onmouseover="showTip(event, 'fs1', 9)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs5', 10)" onmouseover="showTip(event, 'fs5', 10)" class="f">toArray</span>
<span class="o">|&gt;</span> <span onmouseout="hideTip(event, 'fs6', 11)" onmouseover="showTip(event, 'fs6', 11)" class="t">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs7', 12)" onmouseover="showTip(event, 'fs7', 12)" class="f">reduce</span> (<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs8', 13)" onmouseover="showTip(event, 'fs8', 13)" class="i">a</span> <span onmouseout="hideTip(event, 'fs4', 14)" onmouseover="showTip(event, 'fs4', 14)" class="i">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs8', 15)" onmouseover="showTip(event, 'fs8', 15)" class="i">a</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs4', 16)" onmouseover="showTip(event, 'fs4', 16)" class="i">x</span>)
</code></pre></td>
</tr>
</table>
<p>Ah Crap! I wanted to start with a seq</p>
</section>
<section >
<h3>Slightly more complex example</h3>
<h4>Courtesy <a href="http://stackoverflow.com/questions/42598677/what-is-the-best-way-to-pass-generic-function-that-resolves-to-multiple-types">Eugene Tolmachev, Fyodor Soikin, Gustavo Leon</a></h4>
<p>I want to pass in f which can operate on multiple datatypes</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs9', 17)" onmouseover="showTip(event, 'fs9', 17)" class="f">y</span> <span onmouseout="hideTip(event, 'fs10', 18)" onmouseover="showTip(event, 'fs10', 18)" class="f">f</span> <span class="o">=</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs11', 19)" onmouseover="showTip(event, 'fs11', 19)" class="i">a</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 20)" onmouseover="showTip(event, 'fs10', 20)" class="f">f</span> <span class="n">1</span>
    <span class="k">let</span> <span onmouseout="hideTip(event, 'fs12', 21)" onmouseover="showTip(event, 'fs12', 21)" class="i">b</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs10', 22)" onmouseover="showTip(event, 'fs10', 22)" class="f">f</span> <span class="n">2L</span>
    (<span onmouseout="hideTip(event, 'fs11', 23)" onmouseover="showTip(event, 'fs11', 23)" class="i">a</span>,<span onmouseout="hideTip(event, 'fs12', 24)" onmouseover="showTip(event, 'fs12', 24)" class="i">b</span>)
</code></pre></td>
</tr>
</table>
<p>No good.<br />
f is automatically inferred by the first call (with type int)</p>
</section>
<section >
<h3>Complex Example</h3>
<h4>Monad Transformers</h4>
<p>...You're going to have to read 5 blog articles (<a href="https://wiki.haskell.org/index.php?title=Monad%20Transformers%20Explained&amp;action=edit">Here's a good one to start with</a>) and a few academic papers on the subject, but the gist of it is below (taken from that example), and it's doable in FSharp today with the FSharpPlus library</p>
<p>Basically though, you can stack Monads.<br />
For instance -&gt; Stack a IO (async) with a Reader to do configuration injection on an async server you're writing.</p>
</section>
</section>
<section >
<h3>So what are type classes?</h3>
<h4>They are Ad-Hoc Polymorphism</h4>
<ul>
<li>
Operator or function overloading with constraints
<ul>
<li>"This function will run on Type X if Type X implements foo"</li>
</ul>
</li>
<li>
Contrasts with Parametric Polymorphism
<ul>
<li>Generics, where type is parameterized by caller</li>
</ul>
</li>
</ul>
</section>
<section >
<section >
<h3>Parametric Polymorphism (Not Type Classes)</h3>
<blockquote>
<p>Parametric polymorphism (...), allows a single piece of code to be typed “generically,” using variables in place of actual types, and then instantiated with particular types as needed. Parametric definitions are uniform: all of their instances behave the same. (...) </p>TAPL , §23.2:
</blockquote>
</section>
<section >
<h3>Parametric Polymorphism (Not Type Classes)</h3>
<h4>Example <a href="https://rosettacode.org/wiki/Parametric_polymorphism#F.23">rosettacode</a></h4>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs13', 25)" onmouseover="showTip(event, 'fs13', 25)" class="t">BinaryTree</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">T</span><span class="o">&gt;</span> <span class="o">=</span> 
    | <span onmouseout="hideTip(event, 'fs14', 26)" onmouseover="showTip(event, 'fs14', 26)" class="p">Element</span> <span class="k">of</span> <span class="o">&#39;</span><span class="i">T</span> 
    | <span onmouseout="hideTip(event, 'fs15', 27)" onmouseover="showTip(event, 'fs15', 27)" class="p">Tree</span> <span class="k">of</span> <span class="o">&#39;</span><span class="i">T</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs13', 28)" onmouseover="showTip(event, 'fs13', 28)" class="t">BinaryTree</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">T</span><span class="o">&gt;</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs13', 29)" onmouseover="showTip(event, 'fs13', 29)" class="t">BinaryTree</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">T</span><span class="o">&gt;</span>
    <span class="k">member</span> <span onmouseout="hideTip(event, 'fs16', 30)" onmouseover="showTip(event, 'fs16', 30)" class="i">this</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs17', 31)" onmouseover="showTip(event, 'fs17', 31)" class="f">Map</span>(<span onmouseout="hideTip(event, 'fs18', 32)" onmouseover="showTip(event, 'fs18', 32)" class="f">f</span>) <span class="o">=</span>
    <span class="k">match</span> <span onmouseout="hideTip(event, 'fs16', 33)" onmouseover="showTip(event, 'fs16', 33)" class="i">this</span> <span class="k">with</span>
    | <span onmouseout="hideTip(event, 'fs14', 34)" onmouseover="showTip(event, 'fs14', 34)" class="p">Element</span>(<span onmouseout="hideTip(event, 'fs19', 35)" onmouseover="showTip(event, 'fs19', 35)" class="i">x</span>) <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs14', 36)" onmouseover="showTip(event, 'fs14', 36)" class="p">Element</span>(<span onmouseout="hideTip(event, 'fs18', 37)" onmouseover="showTip(event, 'fs18', 37)" class="f">f</span> <span onmouseout="hideTip(event, 'fs19', 38)" onmouseover="showTip(event, 'fs19', 38)" class="i">x</span>)
    | <span onmouseout="hideTip(event, 'fs15', 39)" onmouseover="showTip(event, 'fs15', 39)" class="p">Tree</span>(<span onmouseout="hideTip(event, 'fs19', 40)" onmouseover="showTip(event, 'fs19', 40)" class="i">x</span>,<span onmouseout="hideTip(event, 'fs20', 41)" onmouseover="showTip(event, 'fs20', 41)" class="i">left</span>,<span onmouseout="hideTip(event, 'fs21', 42)" onmouseover="showTip(event, 'fs21', 42)" class="i">right</span>) <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs15', 43)" onmouseover="showTip(event, 'fs15', 43)" class="p">Tree</span>((<span onmouseout="hideTip(event, 'fs18', 44)" onmouseover="showTip(event, 'fs18', 44)" class="f">f</span> <span onmouseout="hideTip(event, 'fs19', 45)" onmouseover="showTip(event, 'fs19', 45)" class="i">x</span>), <span onmouseout="hideTip(event, 'fs20', 46)" onmouseover="showTip(event, 'fs20', 46)" class="i">left</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs22', 47)" onmouseover="showTip(event, 'fs22', 47)" class="f">Map</span>(<span onmouseout="hideTip(event, 'fs18', 48)" onmouseover="showTip(event, 'fs18', 48)" class="f">f</span>), <span onmouseout="hideTip(event, 'fs21', 49)" onmouseover="showTip(event, 'fs21', 49)" class="i">right</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs22', 50)" onmouseover="showTip(event, 'fs22', 50)" class="f">Map</span>(<span onmouseout="hideTip(event, 'fs18', 51)" onmouseover="showTip(event, 'fs18', 51)" class="f">f</span>))

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs23', 52)" onmouseover="showTip(event, 'fs23', 52)" class="i">t1</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs15', 53)" onmouseover="showTip(event, 'fs15', 53)" class="p">Tree</span>(<span class="n">2</span>, <span onmouseout="hideTip(event, 'fs14', 54)" onmouseover="showTip(event, 'fs14', 54)" class="p">Element</span>(<span class="n">1</span>), <span onmouseout="hideTip(event, 'fs15', 55)" onmouseover="showTip(event, 'fs15', 55)" class="p">Tree</span>(<span class="n">4</span>,<span onmouseout="hideTip(event, 'fs14', 56)" onmouseover="showTip(event, 'fs14', 56)" class="p">Element</span>(<span class="n">3</span>),<span onmouseout="hideTip(event, 'fs14', 57)" onmouseover="showTip(event, 'fs14', 57)" class="p">Element</span>(<span class="n">5</span>)) )
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs24', 58)" onmouseover="showTip(event, 'fs24', 58)" class="i">t2</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs23', 59)" onmouseover="showTip(event, 'fs23', 59)" class="i">t1</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs22', 60)" onmouseover="showTip(event, 'fs22', 60)" class="f">Map</span>(<span class="k">fun</span> <span onmouseout="hideTip(event, 'fs4', 61)" onmouseover="showTip(event, 'fs4', 61)" class="i">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs4', 62)" onmouseover="showTip(event, 'fs4', 62)" class="i">x</span> <span class="o">*</span> <span class="n">10</span>)
</code></pre></td>
</tr>
</table>
</section>
</section>
<section >
<section >
<h3>Ad-Hoc Polymorphism (Type Classes)</h3>
<p>TAPL</p>
<blockquote>
<p>Ad-hoc polymorphism, by contrast, allows a polymorphic value to exhibit different behaviors when “viewed” at different types. The most common example of ad-hoc polymorphism is overloading, which associates a single function symbol with many implementations; the compiler (or the runtime system, depending on whether overloading resolution is static or dynamic) chooses an appropriate implementation for each application of the function, based on the types of the arguments.  </p>TAPL , §23.2:
</blockquote>
</section>
<section >
<h3>Ad-Hoc Polymorphism (Type Classes)</h3>
<h4>Example Operator Overloading <a href="http://nut-cracker.azurewebsites.net/blog/category/f/">Gustavo Leon</a></h4>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
<span class="l">9: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs25', 63)" onmouseover="showTip(event, 'fs25', 63)" class="t">Vector2D</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">a</span><span class="o">&gt;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs25', 64)" onmouseover="showTip(event, 'fs25', 64)" class="p">Vector2D</span> <span class="k">of</span> <span class="o">&#39;</span><span class="i">a</span> <span class="o">*</span> <span class="o">&#39;</span><span class="i">a</span> <span class="k">with</span>
    <span class="k">static</span> <span class="k">member</span> <span class="k">inline</span> (<span class="o">~-.</span>) (<span onmouseout="hideTip(event, 'fs25', 65)" onmouseover="showTip(event, 'fs25', 65)" class="p">Vector2D</span>(<span onmouseout="hideTip(event, 'fs26', 66)" onmouseover="showTip(event, 'fs26', 66)" class="i">a1</span>,<span onmouseout="hideTip(event, 'fs27', 67)" onmouseover="showTip(event, 'fs27', 67)" class="i">a2</span>))    <span class="o">=</span> 
        <span onmouseout="hideTip(event, 'fs25', 68)" onmouseover="showTip(event, 'fs25', 68)" class="p">Vector2D</span> (<span class="o">-</span><span class="i">a1</span> , <span class="o">-</span><span class="i">a2</span>)
 
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs28', 69)" onmouseover="showTip(event, 'fs28', 69)" class="t">Vector3D</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">a</span><span class="o">&gt;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs28', 70)" onmouseover="showTip(event, 'fs28', 70)" class="p">Vector3D</span> <span class="k">of</span> <span class="o">&#39;</span><span class="i">a</span> <span class="o">*</span> <span class="o">&#39;</span><span class="i">a</span> <span class="o">*</span> <span class="o">&#39;</span><span class="i">a</span> <span class="k">with</span>
    <span class="k">static</span> <span class="k">member</span> <span class="k">inline</span> (<span class="o">~-.</span>) (<span onmouseout="hideTip(event, 'fs28', 71)" onmouseover="showTip(event, 'fs28', 71)" class="p">Vector3D</span>(<span onmouseout="hideTip(event, 'fs26', 72)" onmouseover="showTip(event, 'fs26', 72)" class="i">a1</span>,<span onmouseout="hideTip(event, 'fs27', 73)" onmouseover="showTip(event, 'fs27', 73)" class="i">a2</span>,<span onmouseout="hideTip(event, 'fs29', 74)" onmouseover="showTip(event, 'fs29', 74)" class="i">a3</span>)) <span class="o">=</span> 
        <span onmouseout="hideTip(event, 'fs28', 75)" onmouseover="showTip(event, 'fs28', 75)" class="p">Vector3D</span> (<span class="o">-</span><span class="i">a1</span>, <span class="o">-</span><span class="i">a2</span>, <span class="o">-</span><span class="i">a3</span>)
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs30', 76)" onmouseover="showTip(event, 'fs30', 76)" class="i">a</span> <span class="o">=</span>   <span class="o">-.</span> (<span onmouseout="hideTip(event, 'fs25', 77)" onmouseover="showTip(event, 'fs25', 77)" class="p">Vector2D</span> (<span class="n">1.0</span>,<span class="n">2.0</span>))
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs31', 78)" onmouseover="showTip(event, 'fs31', 78)" class="i">b</span> <span class="o">=</span>   <span class="o">-.</span> (<span onmouseout="hideTip(event, 'fs28', 79)" onmouseover="showTip(event, 'fs28', 79)" class="p">Vector3D</span> (<span class="n">1.0</span>,<span class="n">2.0</span>,<span class="n">3.0</span>))
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>Vector2D (-1.0,-2.0)</code></pre></td></tr></table>
<table class="pre"><tr><td><pre><code>Vector3D (-1.0,-2.0,-3.0)</code></pre></td></tr></table>
</section>
</section>
<section >
<h3>Extending this to mimic Haskell Type Classes</h3>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="prep">#r</span> <span class="s">&quot;../src/build/PresentationCode.dll&quot;</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs32', 80)" onmouseover="showTip(event, 'fs32', 80)" class="i">Coletto</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs33', 81)" onmouseover="showTip(event, 'fs33', 81)" class="i">TypeClassish</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs34', 82)" onmouseover="showTip(event, 'fs34', 82)" class="i">Collections</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs35', 83)" onmouseover="showTip(event, 'fs35', 83)" class="i">Base</span>

<span class="k">let</span> <span onmouseout="hideTip(event, 'fs36', 84)" onmouseover="showTip(event, 'fs36', 84)" class="i">amap</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs37', 85)" onmouseover="showTip(event, 'fs37', 85)" class="f">simplemap</span> ((<span class="o">+</span>) <span class="n">10</span>) [<span class="n">1..</span><span class="n">3</span>]
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs38', 86)" onmouseover="showTip(event, 'fs38', 86)" class="i">bmap</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs37', 87)" onmouseover="showTip(event, 'fs37', 87)" class="f">simplemap</span> ((<span class="o">+</span>) <span class="n">10</span>) [|<span class="n">1..</span><span class="n">3</span>|]
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs39', 88)" onmouseover="showTip(event, 'fs39', 88)" class="i">cmap</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs37', 89)" onmouseover="showTip(event, 'fs37', 89)" class="f">simplemap</span> ((<span class="o">+</span>) <span class="n">10</span>) (<span onmouseout="hideTip(event, 'fs40', 90)" onmouseover="showTip(event, 'fs40', 90)" class="p">Some</span> <span class="n">3</span>)
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>[11; 12; 13]</code></pre></td></tr></table>
<table class="pre"><tr><td><pre><code>[|11; 12; 13|]</code></pre></td></tr></table>
<table class="pre"><tr><td><pre><code>Some 13</code></pre></td></tr></table>
</section>
<section >
<section >
<h3>What???</h3>
<h4>How'd that work? <img style="border: none; height:1em;padding-bottom:0em !important;margin:0 !important" src="images/open_mouth.png" /></h4>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs41', 91)" onmouseover="showTip(event, 'fs41', 91)" class="t">Fmap</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs41', 92)" onmouseover="showTip(event, 'fs41', 92)" class="p">Fmap</span> <span class="k">with</span>
    <span class="k">static</span> <span class="k">member</span> (<span class="o">$</span>) (<span onmouseout="hideTip(event, 'fs41', 93)" onmouseover="showTip(event, 'fs41', 93)" class="p">Fmap</span>, <span onmouseout="hideTip(event, 'fs42', 94)" onmouseover="showTip(event, 'fs42', 94)" class="i">x</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs43', 95)" onmouseover="showTip(event, 'fs43', 95)" class="t">array</span><span class="o">&lt;</span>_<span class="o">&gt;</span>) <span class="o">=</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs44', 96)" onmouseover="showTip(event, 'fs44', 96)" class="f">f</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs6', 97)" onmouseover="showTip(event, 'fs6', 97)" class="t">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs45', 98)" onmouseover="showTip(event, 'fs45', 98)" class="f">map</span> <span onmouseout="hideTip(event, 'fs44', 99)" onmouseover="showTip(event, 'fs44', 99)" class="f">f</span> <span onmouseout="hideTip(event, 'fs42', 100)" onmouseover="showTip(event, 'fs42', 100)" class="i">x</span>
    <span class="k">static</span> <span class="k">member</span> (<span class="o">$</span>) (<span onmouseout="hideTip(event, 'fs41', 101)" onmouseover="showTip(event, 'fs41', 101)" class="p">Fmap</span>, <span onmouseout="hideTip(event, 'fs46', 102)" onmouseover="showTip(event, 'fs46', 102)" class="i">x</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs47', 103)" onmouseover="showTip(event, 'fs47', 103)" class="t">list</span><span class="o">&lt;</span>_<span class="o">&gt;</span>  ) <span class="o">=</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs44', 104)" onmouseover="showTip(event, 'fs44', 104)" class="f">f</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs1', 105)" onmouseover="showTip(event, 'fs1', 105)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs2', 106)" onmouseover="showTip(event, 'fs2', 106)" class="f">map</span> <span onmouseout="hideTip(event, 'fs44', 107)" onmouseover="showTip(event, 'fs44', 107)" class="f">f</span> <span onmouseout="hideTip(event, 'fs46', 108)" onmouseover="showTip(event, 'fs46', 108)" class="i">x</span>
    <span class="k">static</span> <span class="k">member</span> (<span class="o">$</span>) (<span onmouseout="hideTip(event, 'fs41', 109)" onmouseover="showTip(event, 'fs41', 109)" class="p">Fmap</span>, <span onmouseout="hideTip(event, 'fs48', 110)" onmouseover="showTip(event, 'fs48', 110)" class="i">x</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs49', 111)" onmouseover="showTip(event, 'fs49', 111)" class="t">option</span><span class="o">&lt;</span>_<span class="o">&gt;</span>  ) <span class="o">=</span> <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs44', 112)" onmouseover="showTip(event, 'fs44', 112)" class="f">f</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs50', 113)" onmouseover="showTip(event, 'fs50', 113)" class="t">Option</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs51', 114)" onmouseover="showTip(event, 'fs51', 114)" class="f">map</span> <span onmouseout="hideTip(event, 'fs44', 115)" onmouseover="showTip(event, 'fs44', 115)" class="f">f</span> <span onmouseout="hideTip(event, 'fs48', 116)" onmouseover="showTip(event, 'fs48', 116)" class="i">x</span>

<span class="k">let</span> <span class="k">inline</span> <span onmouseout="hideTip(event, 'fs52', 117)" onmouseover="showTip(event, 'fs52', 117)" class="f">map</span> <span onmouseout="hideTip(event, 'fs53', 118)" onmouseover="showTip(event, 'fs53', 118)" class="i">f</span> <span onmouseout="hideTip(event, 'fs54', 119)" onmouseover="showTip(event, 'fs54', 119)" class="i">x</span> <span class="o">=</span> (<span onmouseout="hideTip(event, 'fs41', 120)" onmouseover="showTip(event, 'fs41', 120)" class="p">Fmap</span> <span class="o">$</span> <span onmouseout="hideTip(event, 'fs54', 121)" onmouseover="showTip(event, 'fs54', 121)" class="i">x</span>) <span onmouseout="hideTip(event, 'fs53', 122)" onmouseover="showTip(event, 'fs53', 122)" class="i">f</span>
</code></pre></td>
</tr>
</table>
</section>
<section >
<h3>How that works</h3>
<h4>Operator Overloading</h4>
<blockquote>
<p>They have a particular behavior, at operator resolution the compiler looks in every operand class, so for example if we have a binary operator $ : (‘a,’b) -&gt; ‘c it looks first into class ‘a then into class ‘b for the operator definition.
So the trick is we will use an intermediary class with an operator with overloads for the second parameter.
<a href="http://nut-cracker.azurewebsites.net/blog/category/f/">Gustavo Leon</a></p>
</blockquote>
</section>
</section>
<section >
<section >
<h3>Digression: Inline Methods with Operator Overloading</h3>
<h4>Introduction <a href="http://t0yv0.blogspot.com/2011/12/hacking-type-classes-in-f.html">Anton Tayanovskyy</a></h4>
<blockquote>
<p>To cut the long story short, before compiling to .NET F# expands methods declared inline and does overload resolution. This was intended to support flexible operator overloading, but opens up the door for interesting hacks. Even code that generalizes over higher kinds and therefore cannot exist at .NET level can with these hacks exist at the inline F# level.</p>
</blockquote>
</section>
<section >
<h3>Non-Inline Problem Example</h3>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs55', 123)" onmouseover="showTip(event, 'fs55', 123)" class="f">exampleFunction</span> <span onmouseout="hideTip(event, 'fs8', 124)" onmouseover="showTip(event, 'fs8', 124)" class="i">a</span> <span onmouseout="hideTip(event, 'fs56', 125)" onmouseover="showTip(event, 'fs56', 125)" class="i">b</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs8', 126)" onmouseover="showTip(event, 'fs8', 126)" class="i">a</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs56', 127)" onmouseover="showTip(event, 'fs56', 127)" class="i">b</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs57', 128)" onmouseover="showTip(event, 'fs57', 128)" class="i">x</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs55', 129)" onmouseover="showTip(event, 'fs55', 129)" class="f">exampleFunction</span> <span class="n">1</span> <span class="n">2</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs58', 130)" onmouseover="showTip(event, 'fs58', 130)" class="i">y</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs55', 131)" onmouseover="showTip(event, 'fs55', 131)" class="f">exampleFunction</span> <span class="n">1.0</span> <span class="n">2.0</span> <span class="c">// Error</span>
</code></pre></td>
</tr>
</table>
<p>val exampleFunction : a:int -&gt; b:int -&gt; int //Determined by first call</p>
<blockquote>
<p>severity: 'Error'
message: 'This expression was expected to have type
'int'
but here has type
'float'</p>
</blockquote>
</section>
<section >
<h3>Corrected with inline</h3>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="k">inline</span> <span onmouseout="hideTip(event, 'fs59', 132)" onmouseover="showTip(event, 'fs59', 132)" class="f">exampleFunction&#39;</span> <span onmouseout="hideTip(event, 'fs60', 133)" onmouseover="showTip(event, 'fs60', 133)" class="i">a</span> <span onmouseout="hideTip(event, 'fs61', 134)" onmouseover="showTip(event, 'fs61', 134)" class="i">b</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs60', 135)" onmouseover="showTip(event, 'fs60', 135)" class="i">a</span> <span class="o">+</span> <span onmouseout="hideTip(event, 'fs61', 136)" onmouseover="showTip(event, 'fs61', 136)" class="i">b</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs62', 137)" onmouseover="showTip(event, 'fs62', 137)" class="i">x&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs59', 138)" onmouseover="showTip(event, 'fs59', 138)" class="f">exampleFunction&#39;</span> <span class="n">1</span> <span class="n">2</span>
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs63', 139)" onmouseover="showTip(event, 'fs63', 139)" class="i">y&#39;</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs59', 140)" onmouseover="showTip(event, 'fs59', 140)" class="f">exampleFunction&#39;</span> <span class="n">1.0</span> <span class="n">2.0</span> 
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>3</code></pre></td></tr></table>
<table class="pre"><tr><td><pre><code>3.0</code></pre></td></tr></table>
<p>Statically resolved:</p>
<blockquote>
<p>val inline exampleFunction' :
a: ^a -&gt; b: ^b -&gt;  ^c
when ( ^a or  ^b) : (static member ( + ) :  ^a *  ^b -&gt;  ^c)</p>
</blockquote>
</section>
</section>
<section >
<section >
<h3>So back to type classes</h3>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs41', 141)" onmouseover="showTip(event, 'fs41', 141)" class="i">Fmap</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs41', 142)" onmouseover="showTip(event, 'fs41', 142)" class="i">Fmap</span> <span class="k">with</span>
    <span class="k">static</span> <span class="k">member</span> (<span class="o">$</span>) (<span onmouseout="hideTip(event, 'fs41', 143)" onmouseover="showTip(event, 'fs41', 143)" class="i">Fmap</span>, <span onmouseout="hideTip(event, 'fs57', 144)" onmouseover="showTip(event, 'fs57', 144)" class="i">x</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs43', 145)" onmouseover="showTip(event, 'fs43', 145)" class="i">array</span><span class="o">&lt;</span>_<span class="o">&gt;</span>) <span class="o">=</span> <span class="k">fun</span> <span class="i">f</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs6', 146)" onmouseover="showTip(event, 'fs6', 146)" class="i">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs45', 147)" onmouseover="showTip(event, 'fs45', 147)" class="i">map</span> <span class="i">f</span> <span onmouseout="hideTip(event, 'fs57', 148)" onmouseover="showTip(event, 'fs57', 148)" class="i">x</span>
    <span class="k">static</span> <span class="k">member</span> (<span class="o">$</span>) (<span onmouseout="hideTip(event, 'fs41', 149)" onmouseover="showTip(event, 'fs41', 149)" class="i">Fmap</span>, <span onmouseout="hideTip(event, 'fs57', 150)" onmouseover="showTip(event, 'fs57', 150)" class="i">x</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs47', 151)" onmouseover="showTip(event, 'fs47', 151)" class="i">list</span><span class="o">&lt;</span>_<span class="o">&gt;</span>  ) <span class="o">=</span> <span class="k">fun</span> <span class="i">f</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs1', 152)" onmouseover="showTip(event, 'fs1', 152)" class="i">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs2', 153)" onmouseover="showTip(event, 'fs2', 153)" class="i">map</span> <span class="i">f</span> <span onmouseout="hideTip(event, 'fs57', 154)" onmouseover="showTip(event, 'fs57', 154)" class="i">x</span>
    <span class="k">static</span> <span class="k">member</span> (<span class="o">$</span>) (<span onmouseout="hideTip(event, 'fs41', 155)" onmouseover="showTip(event, 'fs41', 155)" class="i">Fmap</span>, <span onmouseout="hideTip(event, 'fs57', 156)" onmouseover="showTip(event, 'fs57', 156)" class="i">x</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs64', 157)" onmouseover="showTip(event, 'fs64', 157)" class="i">seq</span><span class="o">&lt;</span>_<span class="o">&gt;</span>  ) <span class="o">=</span> <span class="k">fun</span> <span class="i">f</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs65', 158)" onmouseover="showTip(event, 'fs65', 158)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs66', 159)" onmouseover="showTip(event, 'fs66', 159)" class="i">map</span> <span class="i">f</span> <span onmouseout="hideTip(event, 'fs57', 160)" onmouseover="showTip(event, 'fs57', 160)" class="i">x</span>

<span class="k">let</span> <span class="k">inline</span> <span onmouseout="hideTip(event, 'fs52', 161)" onmouseover="showTip(event, 'fs52', 161)" class="f">map</span> <span onmouseout="hideTip(event, 'fs53', 162)" onmouseover="showTip(event, 'fs53', 162)" class="i">f</span> <span onmouseout="hideTip(event, 'fs54', 163)" onmouseover="showTip(event, 'fs54', 163)" class="i">x</span> <span class="o">=</span> (<span onmouseout="hideTip(event, 'fs41', 164)" onmouseover="showTip(event, 'fs41', 164)" class="p">Fmap</span> <span class="o">$</span> <span onmouseout="hideTip(event, 'fs54', 165)" onmouseover="showTip(event, 'fs54', 165)" class="i">x</span>) <span onmouseout="hideTip(event, 'fs53', 166)" onmouseover="showTip(event, 'fs53', 166)" class="i">f</span>
</code></pre></td>
</tr>
</table>
<blockquote>
<p>val inline map :<br />
f:'a -&gt; x: ^b -&gt; 'c<br />
when (Fmap or  ^b) : (static member ( $ ) : Fmap *  ^b -&gt; 'a -&gt; 'c)</p>
</blockquote>
<p>Type classes allow you to define a set of functionality a type must provide so that a function can be run on the type.<br />
- Note our map function requires static member $ with a particular signature. That's how we're getting type class support</p>
</section>
<section >
<h3>Going Deeper</h3>
<h4>We have an ability to now match on a function with a single input type, and no mention of an output type.</h4>
<p>What if we only have an output type? Or what if we care about input and output type?</p>
</section>
<section >
<p>Use a 3 parameter operator and overload it. The ternary operator fits the bill.<br />
For unary functions we can just ignore an extra parameter. In the below case we are using the 3rd param just to match with the output type of the
mapping function, and then ignoring it (see unchecked.defaultof below)</p>
</section>
<section >
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs67', 167)" onmouseover="showTip(event, 'fs67', 167)" class="t">Tree</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">t</span><span class="o">&gt;</span> <span class="o">=</span>
    | <span onmouseout="hideTip(event, 'fs67', 168)" onmouseover="showTip(event, 'fs67', 168)" class="p">Tree</span> <span class="k">of</span> <span class="o">&#39;</span><span class="i">t</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs67', 169)" onmouseover="showTip(event, 'fs67', 169)" class="t">Tree</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">t</span><span class="o">&gt;</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs67', 170)" onmouseover="showTip(event, 'fs67', 170)" class="t">Tree</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">t</span><span class="o">&gt;</span>
    | <span onmouseout="hideTip(event, 'fs68', 171)" onmouseover="showTip(event, 'fs68', 171)" class="p">Leaf</span> <span class="k">of</span> <span class="o">&#39;</span><span class="i">t</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs69', 172)" onmouseover="showTip(event, 'fs69', 172)" class="t">ThreeMap</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs69', 173)" onmouseover="showTip(event, 'fs69', 173)" class="p">ThreeMap</span> <span class="k">with</span>
    <span class="k">static</span> <span class="k">member</span> <span class="k">inline</span> (<span class="o">?&lt;-</span>) (<span onmouseout="hideTip(event, 'fs42', 174)" onmouseover="showTip(event, 'fs42', 174)" class="i">x</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs43', 175)" onmouseover="showTip(event, 'fs43', 175)" class="t">array</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">a</span><span class="o">&gt;</span>, <span class="i">_Blank</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs69', 176)" onmouseover="showTip(event, 'fs69', 176)" class="t">ThreeMap</span>,_<span class="o">:</span><span onmouseout="hideTip(event, 'fs43', 177)" onmouseover="showTip(event, 'fs43', 177)" class="t">array</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">b</span><span class="o">&gt;</span>) <span class="o">=</span> 
        <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs44', 178)" onmouseover="showTip(event, 'fs44', 178)" class="f">f</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs6', 179)" onmouseover="showTip(event, 'fs6', 179)" class="t">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs45', 180)" onmouseover="showTip(event, 'fs45', 180)" class="f">map</span> <span onmouseout="hideTip(event, 'fs44', 181)" onmouseover="showTip(event, 'fs44', 181)" class="f">f</span> <span onmouseout="hideTip(event, 'fs42', 182)" onmouseover="showTip(event, 'fs42', 182)" class="i">x</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">b</span> <span onmouseout="hideTip(event, 'fs43', 183)" onmouseover="showTip(event, 'fs43', 183)" class="t">array</span>
    <span class="k">static</span> <span class="k">member</span> <span class="k">inline</span> (<span class="o">?&lt;-</span>) (<span onmouseout="hideTip(event, 'fs46', 184)" onmouseover="showTip(event, 'fs46', 184)" class="i">x</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs47', 185)" onmouseover="showTip(event, 'fs47', 185)" class="t">list</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">a</span><span class="o">&gt;</span>, <span class="i">_Blank</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs69', 186)" onmouseover="showTip(event, 'fs69', 186)" class="t">ThreeMap</span>,_<span class="o">:</span><span onmouseout="hideTip(event, 'fs47', 187)" onmouseover="showTip(event, 'fs47', 187)" class="t">list</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">b</span><span class="o">&gt;</span>) <span class="o">=</span> 
        <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs44', 188)" onmouseover="showTip(event, 'fs44', 188)" class="f">f</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs1', 189)" onmouseover="showTip(event, 'fs1', 189)" class="t">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs2', 190)" onmouseover="showTip(event, 'fs2', 190)" class="f">map</span> <span onmouseout="hideTip(event, 'fs44', 191)" onmouseover="showTip(event, 'fs44', 191)" class="f">f</span> <span onmouseout="hideTip(event, 'fs46', 192)" onmouseover="showTip(event, 'fs46', 192)" class="i">x</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">b</span> <span onmouseout="hideTip(event, 'fs47', 193)" onmouseover="showTip(event, 'fs47', 193)" class="t">list</span>
    <span class="k">static</span> <span class="k">member</span> <span class="k">inline</span> (<span class="o">?&lt;-</span>) (<span onmouseout="hideTip(event, 'fs48', 194)" onmouseover="showTip(event, 'fs48', 194)" class="i">x</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs49', 195)" onmouseover="showTip(event, 'fs49', 195)" class="t">option</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">a</span><span class="o">&gt;</span>, <span class="i">_Blank</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs69', 196)" onmouseover="showTip(event, 'fs69', 196)" class="t">ThreeMap</span>,_<span class="o">:</span><span onmouseout="hideTip(event, 'fs49', 197)" onmouseover="showTip(event, 'fs49', 197)" class="t">option</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">b</span><span class="o">&gt;</span>) <span class="o">=</span> 
        <span class="k">fun</span> <span onmouseout="hideTip(event, 'fs44', 198)" onmouseover="showTip(event, 'fs44', 198)" class="f">f</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs50', 199)" onmouseover="showTip(event, 'fs50', 199)" class="t">Option</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs51', 200)" onmouseover="showTip(event, 'fs51', 200)" class="f">map</span> <span onmouseout="hideTip(event, 'fs44', 201)" onmouseover="showTip(event, 'fs44', 201)" class="f">f</span> <span onmouseout="hideTip(event, 'fs48', 202)" onmouseover="showTip(event, 'fs48', 202)" class="i">x</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">b</span> <span onmouseout="hideTip(event, 'fs49', 203)" onmouseover="showTip(event, 'fs49', 203)" class="t">option</span>
    <span class="k">static</span> <span class="k">member</span> <span class="k">inline</span> (<span class="o">?&lt;-</span>) (<span onmouseout="hideTip(event, 'fs70', 204)" onmouseover="showTip(event, 'fs70', 204)" class="i">x</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs67', 205)" onmouseover="showTip(event, 'fs67', 205)" class="t">Tree</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">a</span><span class="o">&gt;</span>, <span class="i">_Blank</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs69', 206)" onmouseover="showTip(event, 'fs69', 206)" class="t">ThreeMap</span>,_<span class="o">:</span><span onmouseout="hideTip(event, 'fs67', 207)" onmouseover="showTip(event, 'fs67', 207)" class="t">Tree</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">b</span><span class="o">&gt;</span>) <span class="o">=</span> 
        <span class="k">fun</span> (<span onmouseout="hideTip(event, 'fs44', 208)" onmouseover="showTip(event, 'fs44', 208)" class="f">f</span><span class="o">:</span><span class="o">&#39;</span><span class="i">a</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">b</span>) <span class="k">-&gt;</span> 
            <span class="k">let</span> <span class="k">rec</span> <span onmouseout="hideTip(event, 'fs71', 209)" onmouseover="showTip(event, 'fs71', 209)" class="f">loop</span> <span onmouseout="hideTip(event, 'fs44', 210)" onmouseover="showTip(event, 'fs44', 210)" class="f">f</span> <span class="o">=</span> <span class="k">function</span>
                | <span onmouseout="hideTip(event, 'fs68', 211)" onmouseover="showTip(event, 'fs68', 211)" class="p">Leaf</span> <span onmouseout="hideTip(event, 'fs72', 212)" onmouseover="showTip(event, 'fs72', 212)" class="i">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs68', 213)" onmouseover="showTip(event, 'fs68', 213)" class="p">Leaf</span> (<span onmouseout="hideTip(event, 'fs44', 214)" onmouseover="showTip(event, 'fs44', 214)" class="f">f</span> <span onmouseout="hideTip(event, 'fs72', 215)" onmouseover="showTip(event, 'fs72', 215)" class="i">x</span>)
                | <span onmouseout="hideTip(event, 'fs67', 216)" onmouseover="showTip(event, 'fs67', 216)" class="p">Tree</span> (<span onmouseout="hideTip(event, 'fs72', 217)" onmouseover="showTip(event, 'fs72', 217)" class="i">x</span>, <span onmouseout="hideTip(event, 'fs73', 218)" onmouseover="showTip(event, 'fs73', 218)" class="i">t1</span>, <span onmouseout="hideTip(event, 'fs74', 219)" onmouseover="showTip(event, 'fs74', 219)" class="i">t2</span>) <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs67', 220)" onmouseover="showTip(event, 'fs67', 220)" class="p">Tree</span> (<span onmouseout="hideTip(event, 'fs44', 221)" onmouseover="showTip(event, 'fs44', 221)" class="f">f</span> <span onmouseout="hideTip(event, 'fs72', 222)" onmouseover="showTip(event, 'fs72', 222)" class="i">x</span>, <span onmouseout="hideTip(event, 'fs71', 223)" onmouseover="showTip(event, 'fs71', 223)" class="f">loop</span> <span onmouseout="hideTip(event, 'fs44', 224)" onmouseover="showTip(event, 'fs44', 224)" class="f">f</span> <span onmouseout="hideTip(event, 'fs73', 225)" onmouseover="showTip(event, 'fs73', 225)" class="i">t1</span>, <span onmouseout="hideTip(event, 'fs71', 226)" onmouseover="showTip(event, 'fs71', 226)" class="f">loop</span> <span onmouseout="hideTip(event, 'fs44', 227)" onmouseover="showTip(event, 'fs44', 227)" class="f">f</span> <span onmouseout="hideTip(event, 'fs74', 228)" onmouseover="showTip(event, 'fs74', 228)" class="i">t2</span>)
            <span onmouseout="hideTip(event, 'fs71', 229)" onmouseover="showTip(event, 'fs71', 229)" class="f">loop</span> <span onmouseout="hideTip(event, 'fs44', 230)" onmouseover="showTip(event, 'fs44', 230)" class="f">f</span> <span onmouseout="hideTip(event, 'fs70', 231)" onmouseover="showTip(event, 'fs70', 231)" class="i">x</span>      
<span class="k">let</span> <span class="k">inline</span> <span onmouseout="hideTip(event, 'fs75', 232)" onmouseover="showTip(event, 'fs75', 232)" class="f">threemap</span> (<span onmouseout="hideTip(event, 'fs44', 233)" onmouseover="showTip(event, 'fs44', 233)" class="f">f</span><span class="o">:</span><span class="o">&#39;</span><span class="i">a</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">b</span>) <span onmouseout="hideTip(event, 'fs76', 234)" onmouseover="showTip(event, 'fs76', 234)" class="i">x</span> <span class="o">:</span><span class="o">^</span><span class="i">M</span> <span class="o">=</span> (<span onmouseout="hideTip(event, 'fs76', 235)" onmouseover="showTip(event, 'fs76', 235)" class="i">x</span> <span class="o">?</span> (<span onmouseout="hideTip(event, 'fs69', 236)" onmouseover="showTip(event, 'fs69', 236)" class="p">ThreeMap</span>) <span class="o">&lt;-</span> <span onmouseout="hideTip(event, 'fs77', 237)" onmouseover="showTip(event, 'fs77', 237)" class="t">Unchecked</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs78', 238)" onmouseover="showTip(event, 'fs78', 238)" class="i">defaultof</span><span class="o">&lt;</span> <span class="o">^</span><span class="i">M</span><span class="o">&gt;</span>) <span onmouseout="hideTip(event, 'fs44', 239)" onmouseover="showTip(event, 'fs44', 239)" class="f">f</span>
</code></pre></td>
</tr>
</table>
</section>
<section >
<h3>Applying with the new map function</h3>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span onmouseout="hideTip(event, 'fs79', 240)" onmouseover="showTip(event, 'fs79', 240)" class="i">ma</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs75', 241)" onmouseover="showTip(event, 'fs75', 241)" class="f">threemap</span> (<span class="o">(*)</span> <span class="n">10</span>) [<span class="n">1..</span><span class="n">3</span>]
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs80', 242)" onmouseover="showTip(event, 'fs80', 242)" class="i">mb</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs75', 243)" onmouseover="showTip(event, 'fs75', 243)" class="f">threemap</span> (<span class="o">(*)</span> <span class="n">10</span>) [|<span class="n">1..</span><span class="n">3</span>|]
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs81', 244)" onmouseover="showTip(event, 'fs81', 244)" class="i">mc</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs75', 245)" onmouseover="showTip(event, 'fs75', 245)" class="f">threemap</span> (<span class="o">(*)</span> <span class="n">10</span>) (<span onmouseout="hideTip(event, 'fs40', 246)" onmouseover="showTip(event, 'fs40', 246)" class="p">Some</span> <span class="n">3</span>) 
<span class="k">let</span> <span onmouseout="hideTip(event, 'fs82', 247)" onmouseover="showTip(event, 'fs82', 247)" class="i">mt</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs75', 248)" onmouseover="showTip(event, 'fs75', 248)" class="f">threemap</span> (<span class="o">(*)</span> <span class="n">10</span>) (<span onmouseout="hideTip(event, 'fs67', 249)" onmouseover="showTip(event, 'fs67', 249)" class="p">Tree</span>(<span class="n">6</span>, <span onmouseout="hideTip(event, 'fs67', 250)" onmouseover="showTip(event, 'fs67', 250)" class="p">Tree</span>(<span class="n">2</span>, <span onmouseout="hideTip(event, 'fs68', 251)" onmouseover="showTip(event, 'fs68', 251)" class="p">Leaf</span> <span class="n">1</span>, <span onmouseout="hideTip(event, 'fs68', 252)" onmouseover="showTip(event, 'fs68', 252)" class="p">Leaf</span> <span class="n">3</span>), <span onmouseout="hideTip(event, 'fs68', 253)" onmouseover="showTip(event, 'fs68', 253)" class="p">Leaf</span> <span class="n">9</span>))
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>[10; 20; 30]</code></pre></td></tr></table>
<table class="pre"><tr><td><pre><code>[|10; 20; 30|]</code></pre></td></tr></table>
<table class="pre"><tr><td><pre><code>Some 30</code></pre></td></tr></table>
<table class="pre"><tr><td><pre><code>Tree (60,Tree (20,Leaf 10,Leaf 30),Leaf 90)</code></pre></td></tr></table>
</section>
</section>
<section >
<h3>But what if we want to add our own new types?</h3>
<p>You can't add new operator overloads through extension types<br />
So we must go deeeper</p>
</section>
<section >
<section >
<h3>Going Deeper</h3>
<h4>Looking at FsharpPlus by Gustavo Leon</h4>
<ul>
<li>Solid up-to-date library</li>
<li>Support for a ton of types build-in, with common functions defined (plus a whole lot more)</li>
<li>Actively maintained by Gustavo</li>
<li>Gustavo contributed PR's in F# 4.1 to fix bugs and speed things up related to this work</li>
<li>Moves from operator overloading to method overloading</li>
</ul>
</section>
<section >
<h3>Stripping away everything - A Brief Peek at FSharpPlus</h3>
<h4>Getting to a minimal subset of code in the library to get an idea of how it works</h4>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs83', 254)" onmouseover="showTip(event, 'fs83', 254)" class="t">Default2</span> <span class="o">=</span> <span class="k">class</span> <span class="k">end</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs84', 255)" onmouseover="showTip(event, 'fs84', 255)" class="t">Default1</span> <span class="o">=</span> <span class="k">class</span> <span class="k">inherit</span> <span onmouseout="hideTip(event, 'fs83', 256)" onmouseover="showTip(event, 'fs83', 256)" class="t">Default2</span> <span class="k">end</span>

<span class="k">type</span> <span onmouseout="hideTip(event, 'fs85', 257)" onmouseover="showTip(event, 'fs85', 257)" class="t">Map</span> <span class="o">=</span>
    <span class="k">inherit</span> <span onmouseout="hideTip(event, 'fs84', 258)" onmouseover="showTip(event, 'fs84', 258)" class="t">Default1</span>

    <span class="k">static</span> <span class="k">member</span> <span class="k">inline</span> <span onmouseout="hideTip(event, 'fs86', 259)" onmouseover="showTip(event, 'fs86', 259)" class="f">Invoke</span> (<span onmouseout="hideTip(event, 'fs87', 260)" onmouseover="showTip(event, 'fs87', 260)" class="f">mapping</span> <span class="o">:</span><span class="o">&#39;</span><span class="i">T</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">U</span>) (<span onmouseout="hideTip(event, 'fs88', 261)" onmouseover="showTip(event, 'fs88', 261)" class="i">source</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">A</span>) <span class="o">:</span> <span class="o">&#39;</span><span class="i">B</span> <span class="o">=</span> 
        <span class="k">let</span> <span class="k">inline</span> <span onmouseout="hideTip(event, 'fs89', 262)" onmouseover="showTip(event, 'fs89', 262)" class="f">call</span> (<span onmouseout="hideTip(event, 'fs90', 263)" onmouseover="showTip(event, 'fs90', 263)" class="i">mthd</span> <span class="o">:</span> <span class="o">^</span><span class="i">M</span>, <span onmouseout="hideTip(event, 'fs91', 264)" onmouseover="showTip(event, 'fs91', 264)" class="i">source</span> <span class="o">:</span> <span class="o">^</span><span class="i">I</span>, <span class="i">_output</span> <span class="o">:</span> <span class="o">^</span><span class="i">R</span>) <span class="o">=</span> ((<span class="o">^</span><span class="i">M</span> <span class="k">or</span> <span class="o">^</span><span class="i">I</span> <span class="k">or</span> <span class="o">^</span><span class="i">R</span>) <span class="o">:</span> 
                                (<span class="k">static</span> <span class="k">member</span> <span onmouseout="hideTip(event, 'fs85', 265)" onmouseover="showTip(event, 'fs85', 265)" class="i">Map</span><span class="o">:</span> _<span class="o">*</span>_<span class="o">*</span>_ <span class="k">-&gt;</span> _) <span onmouseout="hideTip(event, 'fs91', 266)" onmouseover="showTip(event, 'fs91', 266)" class="i">source</span>, <span onmouseout="hideTip(event, 'fs87', 267)" onmouseover="showTip(event, 'fs87', 267)" class="f">mapping</span>, <span onmouseout="hideTip(event, 'fs90', 268)" onmouseover="showTip(event, 'fs90', 268)" class="i">mthd</span>)
        <span onmouseout="hideTip(event, 'fs89', 269)" onmouseover="showTip(event, 'fs89', 269)" class="f">call</span> (<span onmouseout="hideTip(event, 'fs77', 270)" onmouseover="showTip(event, 'fs77', 270)" class="t">Unchecked</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs78', 271)" onmouseover="showTip(event, 'fs78', 271)" class="i">defaultof</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs85', 272)" onmouseover="showTip(event, 'fs85', 272)" class="t">Map</span><span class="o">&gt;</span>, <span onmouseout="hideTip(event, 'fs88', 273)" onmouseover="showTip(event, 'fs88', 273)" class="i">source</span>, <span onmouseout="hideTip(event, 'fs77', 274)" onmouseover="showTip(event, 'fs77', 274)" class="t">Unchecked</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs78', 275)" onmouseover="showTip(event, 'fs78', 275)" class="i">defaultof</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">B</span><span class="o">&gt;</span>)

    <span class="k">static</span> <span class="k">member</span> <span class="k">inline</span> <span onmouseout="hideTip(event, 'fs92', 276)" onmouseover="showTip(event, 'fs92', 276)" class="f">InvokeOnInstance</span> (<span onmouseout="hideTip(event, 'fs87', 277)" onmouseover="showTip(event, 'fs87', 277)" class="f">mapping</span> <span class="o">:</span><span class="o">&#39;</span><span class="i">T</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">U</span>) (<span onmouseout="hideTip(event, 'fs88', 278)" onmouseover="showTip(event, 'fs88', 278)" class="i">source</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">A</span>) <span class="o">:</span> <span class="o">&#39;</span><span class="i">B</span> <span class="o">=</span> 
        (<span class="o">^</span><span class="i">A</span> <span class="o">:</span> (<span class="k">static</span> <span class="k">member</span> <span onmouseout="hideTip(event, 'fs85', 279)" onmouseover="showTip(event, 'fs85', 279)" class="i">Map</span><span class="o">:</span> _ <span class="o">*</span> _ <span class="k">-&gt;</span> _) <span onmouseout="hideTip(event, 'fs88', 280)" onmouseover="showTip(event, 'fs88', 280)" class="i">source</span>, <span onmouseout="hideTip(event, 'fs87', 281)" onmouseover="showTip(event, 'fs87', 281)" class="f">mapping</span>)
</code></pre></td>
</tr>
</table>
</section>
<section >
<h3>Code Cont'd</h3>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
<span class="l">14: </span>
<span class="l">15: </span>
<span class="l">16: </span>
<span class="l">17: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">static</span> <span class="k">member</span> <span class="k">inline</span> <span onmouseout="hideTip(event, 'fs85', 282)" onmouseover="showTip(event, 'fs85', 282)" class="i">Map</span> (<span onmouseout="hideTip(event, 'fs57', 283)" onmouseover="showTip(event, 'fs57', 283)" class="i">x</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">A</span> , <span class="i">f</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">T</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">U</span>, <span class="i">_impl</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs84', 284)" onmouseover="showTip(event, 'fs84', 284)" class="i">Default1</span>) <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs85', 285)" onmouseover="showTip(event, 'fs85', 285)" class="i">Map</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs93', 286)" onmouseover="showTip(event, 'fs93', 286)" class="i">InvokeOnInstance</span> <span class="i">f</span> <span onmouseout="hideTip(event, 'fs57', 287)" onmouseover="showTip(event, 'fs57', 287)" class="i">x</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">B</span>
<span class="k">static</span> <span class="k">member</span> <span onmouseout="hideTip(event, 'fs85', 288)" onmouseover="showTip(event, 'fs85', 288)" class="i">Map</span> (<span onmouseout="hideTip(event, 'fs57', 289)" onmouseover="showTip(event, 'fs57', 289)" class="i">x</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs64', 290)" onmouseover="showTip(event, 'fs64', 290)" class="i">seq</span><span class="o">&lt;</span>_<span class="o">&gt;</span>    , <span class="i">f</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">T</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">U</span>, <span class="i">_impl</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs83', 291)" onmouseover="showTip(event, 'fs83', 291)" class="i">Default2</span>) <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs65', 292)" onmouseover="showTip(event, 'fs65', 292)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs66', 293)" onmouseover="showTip(event, 'fs66', 293)" class="i">map</span> <span class="i">f</span> <span onmouseout="hideTip(event, 'fs57', 294)" onmouseover="showTip(event, 'fs57', 294)" class="i">x</span>              <span class="o">:</span> <span onmouseout="hideTip(event, 'fs64', 295)" onmouseover="showTip(event, 'fs64', 295)" class="i">seq</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">U</span><span class="o">&gt;</span>
<span class="k">static</span> <span class="k">member</span> <span onmouseout="hideTip(event, 'fs85', 296)" onmouseover="showTip(event, 'fs85', 296)" class="i">Map</span> (<span onmouseout="hideTip(event, 'fs57', 297)" onmouseover="showTip(event, 'fs57', 297)" class="i">x</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs49', 298)" onmouseover="showTip(event, 'fs49', 298)" class="i">option</span><span class="o">&lt;</span>_<span class="o">&gt;</span> , <span class="i">f</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">T</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">U</span>, <span class="i">_mthd</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs85', 299)" onmouseover="showTip(event, 'fs85', 299)" class="i">Map</span>)    <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs50', 300)" onmouseover="showTip(event, 'fs50', 300)" class="i">Option</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs51', 301)" onmouseover="showTip(event, 'fs51', 301)" class="i">map</span>  <span class="i">f</span> <span onmouseout="hideTip(event, 'fs57', 302)" onmouseover="showTip(event, 'fs57', 302)" class="i">x</span>
<span class="k">static</span> <span class="k">member</span> <span onmouseout="hideTip(event, 'fs85', 303)" onmouseover="showTip(event, 'fs85', 303)" class="i">Map</span> (<span onmouseout="hideTip(event, 'fs57', 304)" onmouseover="showTip(event, 'fs57', 304)" class="i">x</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs47', 305)" onmouseover="showTip(event, 'fs47', 305)" class="i">list</span><span class="o">&lt;</span>_<span class="o">&gt;</span>   , <span class="i">f</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">T</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">U</span>, <span class="i">_mthd</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs85', 306)" onmouseover="showTip(event, 'fs85', 306)" class="i">Map</span>)    <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs1', 307)" onmouseover="showTip(event, 'fs1', 307)" class="i">List</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs2', 308)" onmouseover="showTip(event, 'fs2', 308)" class="i">map</span> <span class="i">f</span> <span onmouseout="hideTip(event, 'fs57', 309)" onmouseover="showTip(event, 'fs57', 309)" class="i">x</span>             <span class="o">:</span> <span onmouseout="hideTip(event, 'fs47', 310)" onmouseover="showTip(event, 'fs47', 310)" class="i">list</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">U</span><span class="o">&gt;</span>
<span class="k">static</span> <span class="k">member</span> <span onmouseout="hideTip(event, 'fs85', 311)" onmouseover="showTip(event, 'fs85', 311)" class="i">Map</span> (<span onmouseout="hideTip(event, 'fs57', 312)" onmouseover="showTip(event, 'fs57', 312)" class="i">x</span> <span class="o">:</span> _ []      , <span class="i">f</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">T</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">U</span>, <span class="i">_mthd</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs85', 313)" onmouseover="showTip(event, 'fs85', 313)" class="i">Map</span>)    <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs6', 314)" onmouseover="showTip(event, 'fs6', 314)" class="i">Array</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs45', 315)" onmouseover="showTip(event, 'fs45', 315)" class="i">map</span>   <span class="i">f</span> <span onmouseout="hideTip(event, 'fs57', 316)" onmouseover="showTip(event, 'fs57', 316)" class="i">x</span>

<span class="c">// Restricted -- needed for seq</span>
<span class="k">static</span> <span class="k">member</span> <span onmouseout="hideTip(event, 'fs85', 317)" onmouseover="showTip(event, 'fs85', 317)" class="i">Map</span> (<span onmouseout="hideTip(event, 'fs57', 318)" onmouseover="showTip(event, 'fs57', 318)" class="i">x</span> <span class="o">:</span> <span class="i">Dictionary</span><span class="o">&lt;</span>_,_<span class="o">&gt;</span>, <span class="i">f</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">T</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">U</span>, <span class="i">_mthd</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs85', 319)" onmouseover="showTip(event, 'fs85', 319)" class="i">Map</span>) <span class="o">=</span> 
    <span class="k">let</span> <span class="i">d</span> <span class="o">=</span> <span class="i">Dictionary</span>() <span class="k">in</span> <span onmouseout="hideTip(event, 'fs65', 320)" onmouseover="showTip(event, 'fs65', 320)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs94', 321)" onmouseover="showTip(event, 'fs94', 321)" class="i">iter</span> 
        (<span class="k">fun</span> (<span onmouseout="hideTip(event, 'fs95', 322)" onmouseover="showTip(event, 'fs95', 322)" class="i">KeyValue</span>(<span class="i">k</span>, <span class="i">v</span>)) <span class="k">-&gt;</span> <span class="i">d</span><span class="o">.</span><span class="i">Add</span>(<span class="i">k</span>, <span class="i">f</span> <span class="i">v</span>)) <span onmouseout="hideTip(event, 'fs57', 323)" onmouseover="showTip(event, 'fs57', 323)" class="i">x</span>; <span class="i">d</span><span class="o">:</span> <span class="i">Dictionary</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">Key</span>,<span class="o">&#39;</span><span class="i">U</span><span class="o">&gt;</span>
<span class="k">static</span> <span class="k">member</span> <span onmouseout="hideTip(event, 'fs85', 324)" onmouseover="showTip(event, 'fs85', 324)" class="i">Map</span> (<span onmouseout="hideTip(event, 'fs57', 325)" onmouseover="showTip(event, 'fs57', 325)" class="i">x</span> <span class="o">:</span> <span class="i">Expr</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">T</span><span class="o">&gt;</span>       , <span class="i">f</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">T</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">U</span>, <span class="i">_mthd</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs85', 326)" onmouseover="showTip(event, 'fs85', 326)" class="i">Map</span>) <span class="o">=</span> 
    <span class="i">Expr</span><span class="o">.</span><span class="i">Cast</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">U</span><span class="o">&gt;</span>(<span class="i">Expr</span><span class="o">.</span><span class="i">Application</span>(<span class="i">Expr</span><span class="o">.</span><span class="i">Value</span>(<span class="i">f</span>),<span onmouseout="hideTip(event, 'fs57', 327)" onmouseover="showTip(event, 'fs57', 327)" class="i">x</span>))
</code></pre></td>
</tr>
</table>
</section>
<section >
<h3>The heart of it all</h3>
<h4>Map</h4>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="k">inline</span> <span onmouseout="hideTip(event, 'fs52', 328)" onmouseover="showTip(event, 'fs52', 328)" class="i">map</span> (<span class="i">f</span><span class="o">:</span><span class="o">&#39;</span><span class="i">T</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">U</span>) (<span onmouseout="hideTip(event, 'fs57', 329)" onmouseover="showTip(event, 'fs57', 329)" class="i">x</span><span class="o">:</span><span class="o">&#39;</span><span class="i">A</span>) <span class="o">:</span><span class="o">&#39;</span><span class="i">B</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs85', 330)" onmouseover="showTip(event, 'fs85', 330)" class="i">Map</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs96', 331)" onmouseover="showTip(event, 'fs96', 331)" class="i">Invoke</span> <span class="i">f</span> <span onmouseout="hideTip(event, 'fs57', 332)" onmouseover="showTip(event, 'fs57', 332)" class="i">x</span>
</code></pre></td>
</tr>
</table>
</section>
</section>
<section >
<section >
<h3>Before we dive in</h3>
<h4>A demo</h4>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="prep">#r</span> <span class="s">&quot;../src/build/PresentationCode.dll&quot;</span>
<span class="k">open</span> <span onmouseout="hideTip(event, 'fs32', 333)" onmouseover="showTip(event, 'fs32', 333)" class="i">Coletto</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs33', 334)" onmouseover="showTip(event, 'fs33', 334)" class="i">TypeClassish</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs34', 335)" onmouseover="showTip(event, 'fs34', 335)" class="i">Collections</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs97', 336)" onmouseover="showTip(event, 'fs97', 336)" class="i">Mapping</span>

<span class="k">let</span> <span class="i">afp</span> <span class="o">=</span> <span class="i">fpmap</span> ((<span class="o">+</span>) <span class="n">10</span>) (<span onmouseout="hideTip(event, 'fs40', 337)" onmouseover="showTip(event, 'fs40', 337)" class="i">Some</span> <span class="n">3</span>)
<span class="k">let</span> <span class="i">bfp</span> <span class="o">=</span> <span class="i">fpmap</span> ((<span class="o">+</span>) <span class="n">10</span>) [|<span class="n">1..</span><span class="n">3</span>|]
<span class="k">let</span> <span class="i">cfp</span> <span class="o">=</span> <span class="i">fpmap</span> ((<span class="o">+</span>) <span class="n">10</span>) {<span class="n">1..</span><span class="n">3</span>} 
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>Some 13</code></pre></td></tr></table>
<table class="pre"><tr><td><pre><code>[|11; 12; 13|]</code></pre></td></tr></table>
<table class="pre"><tr><td><pre><code>seq [11; 12; 13]</code></pre></td></tr></table>
</section>
<section >
<h3>Demo Cont'd</h3>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span class="i">TestType</span><span class="o">&lt;</span><span class="o">&#39;</span><span onmouseout="hideTip(event, 'fs30', 338)" onmouseover="showTip(event, 'fs30', 338)" class="i">a</span><span class="o">&gt;</span> <span class="o">=</span> <span class="i">TestType</span> <span class="k">of</span> <span class="o">&#39;</span><span onmouseout="hideTip(event, 'fs30', 339)" onmouseover="showTip(event, 'fs30', 339)" class="i">a</span><span class="o">*</span><span class="o">&#39;</span><span onmouseout="hideTip(event, 'fs30', 340)" onmouseover="showTip(event, 'fs30', 340)" class="i">a</span> <span class="k">with</span>
    <span class="k">static</span> <span class="k">member</span> <span onmouseout="hideTip(event, 'fs85', 341)" onmouseover="showTip(event, 'fs85', 341)" class="i">Map</span> (<span onmouseout="hideTip(event, 'fs57', 342)" onmouseover="showTip(event, 'fs57', 342)" class="i">x</span><span class="o">:</span><span class="i">TestType</span><span class="o">&lt;</span>_<span class="o">&gt;</span>, <span class="i">f</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">T</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">U</span>) <span class="o">=</span> 
        <span class="k">let</span> (<span class="i">TestType</span>(<span onmouseout="hideTip(event, 'fs30', 343)" onmouseover="showTip(event, 'fs30', 343)" class="i">a</span>,<span onmouseout="hideTip(event, 'fs31', 344)" onmouseover="showTip(event, 'fs31', 344)" class="i">b</span>)) <span class="o">=</span> <span onmouseout="hideTip(event, 'fs57', 345)" onmouseover="showTip(event, 'fs57', 345)" class="i">x</span>
        <span class="i">TestType</span>(<span class="i">f</span> <span onmouseout="hideTip(event, 'fs30', 346)" onmouseover="showTip(event, 'fs30', 346)" class="i">a</span>,<span class="i">f</span> <span onmouseout="hideTip(event, 'fs31', 347)" onmouseover="showTip(event, 'fs31', 347)" class="i">b</span>)

<span class="k">let</span> <span class="i">dfp</span> <span class="o">=</span> <span class="i">fpmap</span> (<span class="o">(*)</span> <span class="n">10.0</span>) (<span class="i">TestType</span>(<span class="n">5.</span>,<span class="n">5.</span>))
<span class="k">let</span> <span class="i">efp</span> <span class="o">=</span> <span class="i">fpmap</span> (<span class="o">(*)</span> <span class="n">10</span>) (<span class="i">TestType</span>(<span class="n">5</span>,<span class="n">5</span>))
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>TestType (50.0,50.0)</code></pre></td></tr></table>
<table class="pre"><tr><td><pre><code>TestType (50,50)</code></pre></td></tr></table>
</section>
<section >
<h3>Demo Cont'd</h3>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs67', 348)" onmouseover="showTip(event, 'fs67', 348)" class="i">Tree</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">t</span><span class="o">&gt;</span> <span class="o">=</span>
    | <span onmouseout="hideTip(event, 'fs67', 349)" onmouseover="showTip(event, 'fs67', 349)" class="i">Tree</span> <span class="k">of</span> <span class="o">&#39;</span><span class="i">t</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs67', 350)" onmouseover="showTip(event, 'fs67', 350)" class="i">Tree</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">t</span><span class="o">&gt;</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs67', 351)" onmouseover="showTip(event, 'fs67', 351)" class="i">Tree</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">t</span><span class="o">&gt;</span>
    | <span onmouseout="hideTip(event, 'fs68', 352)" onmouseover="showTip(event, 'fs68', 352)" class="i">Leaf</span> <span class="k">of</span> <span class="o">&#39;</span><span class="i">t</span>
    <span class="k">static</span> <span class="k">member</span> <span onmouseout="hideTip(event, 'fs85', 353)" onmouseover="showTip(event, 'fs85', 353)" class="i">Map</span> (<span onmouseout="hideTip(event, 'fs57', 354)" onmouseover="showTip(event, 'fs57', 354)" class="i">x</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs67', 355)" onmouseover="showTip(event, 'fs67', 355)" class="i">Tree</span><span class="o">&lt;</span><span class="o">&#39;</span><span onmouseout="hideTip(event, 'fs30', 356)" onmouseover="showTip(event, 'fs30', 356)" class="i">a</span><span class="o">&gt;</span>, <span class="i">f</span>) <span class="o">=</span> 
        <span class="k">let</span> <span class="k">rec</span> <span class="i">loop</span> <span class="i">f</span> <span class="o">=</span> <span class="k">function</span>
            | <span onmouseout="hideTip(event, 'fs68', 357)" onmouseover="showTip(event, 'fs68', 357)" class="i">Leaf</span> <span onmouseout="hideTip(event, 'fs57', 358)" onmouseover="showTip(event, 'fs57', 358)" class="i">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs68', 359)" onmouseover="showTip(event, 'fs68', 359)" class="i">Leaf</span> (<span class="i">f</span> <span onmouseout="hideTip(event, 'fs57', 360)" onmouseover="showTip(event, 'fs57', 360)" class="i">x</span>)
            | <span onmouseout="hideTip(event, 'fs67', 361)" onmouseover="showTip(event, 'fs67', 361)" class="i">Tree</span> (<span onmouseout="hideTip(event, 'fs57', 362)" onmouseover="showTip(event, 'fs57', 362)" class="i">x</span>, <span onmouseout="hideTip(event, 'fs23', 363)" onmouseover="showTip(event, 'fs23', 363)" class="i">t1</span>, <span onmouseout="hideTip(event, 'fs24', 364)" onmouseover="showTip(event, 'fs24', 364)" class="i">t2</span>) <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs67', 365)" onmouseover="showTip(event, 'fs67', 365)" class="i">Tree</span> (<span class="i">f</span> <span onmouseout="hideTip(event, 'fs57', 366)" onmouseover="showTip(event, 'fs57', 366)" class="i">x</span>, <span class="i">loop</span> <span class="i">f</span> <span onmouseout="hideTip(event, 'fs23', 367)" onmouseover="showTip(event, 'fs23', 367)" class="i">t1</span>, <span class="i">loop</span> <span class="i">f</span> <span onmouseout="hideTip(event, 'fs24', 368)" onmouseover="showTip(event, 'fs24', 368)" class="i">t2</span>)
        <span class="i">loop</span> <span class="i">f</span> <span onmouseout="hideTip(event, 'fs57', 369)" onmouseover="showTip(event, 'fs57', 369)" class="i">x</span>

<span class="k">let</span> <span class="i">ffp</span> <span class="o">=</span> <span class="i">fpmap</span> (<span class="o">(*)</span> <span class="n">10</span>) (<span onmouseout="hideTip(event, 'fs67', 370)" onmouseover="showTip(event, 'fs67', 370)" class="i">Tree</span>(<span class="n">6</span>, <span onmouseout="hideTip(event, 'fs67', 371)" onmouseover="showTip(event, 'fs67', 371)" class="i">Tree</span>(<span class="n">2</span>, <span onmouseout="hideTip(event, 'fs68', 372)" onmouseover="showTip(event, 'fs68', 372)" class="i">Leaf</span> <span class="n">1</span>, <span onmouseout="hideTip(event, 'fs68', 373)" onmouseover="showTip(event, 'fs68', 373)" class="i">Leaf</span> <span class="n">3</span>), <span onmouseout="hideTip(event, 'fs68', 374)" onmouseover="showTip(event, 'fs68', 374)" class="i">Leaf</span> <span class="n">9</span>))
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>Tree (60,Tree (20,Leaf 10,Leaf 30),Leaf 90)</code></pre></td></tr></table>
</section>
</section>
<section >
<h3>Looking at the help functions in FSharpPlus</h3>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Handles Types with overloaded Map</span>
<span class="k">static</span> <span class="k">member</span> <span class="k">inline</span> <span class="i">Invoke</span> (<span class="i">mapping</span> <span class="o">:</span><span class="o">&#39;</span><span class="i">T</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">U</span>) (<span class="i">source</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">A</span>) <span class="o">:</span> <span class="o">&#39;</span><span class="i">B</span> <span class="o">=</span> 
    <span class="k">let</span> <span class="k">inline</span> <span class="i">call</span> (<span class="i">mthd</span> <span class="o">:</span> <span class="o">^</span><span class="i">M</span>, <span class="i">source</span> <span class="o">:</span> <span class="o">^</span><span class="i">I</span>, <span class="i">_output</span> <span class="o">:</span> <span class="o">^</span><span class="i">R</span>) <span class="o">=</span> ((<span class="o">^</span><span class="i">M</span> <span class="k">or</span> <span class="o">^</span><span class="i">I</span> <span class="k">or</span> <span class="o">^</span><span class="i">R</span>) <span class="o">:</span> 
                            (<span class="k">static</span> <span class="k">member</span> <span onmouseout="hideTip(event, 'fs85', 375)" onmouseover="showTip(event, 'fs85', 375)" class="i">Map</span><span class="o">:</span> _<span class="o">*</span>_<span class="o">*</span>_ <span class="k">-&gt;</span> _) <span class="i">source</span>, <span class="i">mapping</span>, <span class="i">mthd</span>)
    <span class="i">call</span> (<span onmouseout="hideTip(event, 'fs77', 376)" onmouseover="showTip(event, 'fs77', 376)" class="i">Unchecked</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs78', 377)" onmouseover="showTip(event, 'fs78', 377)" class="i">defaultof</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs85', 378)" onmouseover="showTip(event, 'fs85', 378)" class="i">Map</span><span class="o">&gt;</span>, <span class="i">source</span>, <span onmouseout="hideTip(event, 'fs77', 379)" onmouseover="showTip(event, 'fs77', 379)" class="i">Unchecked</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs78', 380)" onmouseover="showTip(event, 'fs78', 380)" class="i">defaultof</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">B</span><span class="o">&gt;</span>)

<span class="c">// Handles Types with a single Map</span>
<span class="k">static</span> <span class="k">member</span> <span class="k">inline</span> <span class="i">InvokeOnInstance</span> (<span class="i">mapping</span> <span class="o">:</span><span class="o">&#39;</span><span class="i">T</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">U</span>) (<span class="i">source</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">A</span>) <span class="o">:</span> <span class="o">&#39;</span><span class="i">B</span> <span class="o">=</span> 
    (<span class="o">^</span><span class="i">A</span> <span class="o">:</span> (<span class="k">static</span> <span class="k">member</span> <span onmouseout="hideTip(event, 'fs85', 381)" onmouseover="showTip(event, 'fs85', 381)" class="i">Map</span><span class="o">:</span> _ <span class="o">*</span> _ <span class="k">-&gt;</span> _) <span class="i">source</span>, <span class="i">mapping</span>)

<span class="c">// Related to the single map case</span>
<span class="k">static</span> <span class="k">member</span> <span class="k">inline</span> <span onmouseout="hideTip(event, 'fs85', 382)" onmouseover="showTip(event, 'fs85', 382)" class="i">Map</span> (<span onmouseout="hideTip(event, 'fs57', 383)" onmouseover="showTip(event, 'fs57', 383)" class="i">x</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">A</span> , <span class="i">f</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">T</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">U</span>, <span class="i">_impl</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs84', 384)" onmouseover="showTip(event, 'fs84', 384)" class="i">Default1</span>) <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs85', 385)" onmouseover="showTip(event, 'fs85', 385)" class="i">Map</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs93', 386)" onmouseover="showTip(event, 'fs93', 386)" class="i">InvokeOnInstance</span> <span class="i">f</span> <span onmouseout="hideTip(event, 'fs57', 387)" onmouseover="showTip(event, 'fs57', 387)" class="i">x</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">B</span>
</code></pre></td>
</tr>
</table>
</section>
<section >
<section >
<h3>Let's focus on the case of generic Map on your own Type</h3>
<h4>With a non-overloaded Map member</h4>
</section>
<section >
<h3>Deeper dive on Types with Single Map member</h3>
<h4>Define a function that allows us to map on our own Types</h4>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="k">inline</span> <span class="i">nsmap</span> (<span class="i">mapping</span> <span class="o">:</span><span class="o">&#39;</span><span class="i">T</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">U</span>) (<span class="i">source</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">A</span>) <span class="o">:</span> <span class="o">&#39;</span><span class="i">B</span> <span class="o">=</span>  
    (<span class="o">^</span><span class="i">A</span> <span class="o">:</span> (<span class="k">static</span> <span class="k">member</span> <span onmouseout="hideTip(event, 'fs85', 388)" onmouseover="showTip(event, 'fs85', 388)" class="i">Map</span><span class="o">:</span> _ <span class="o">*</span> _ <span class="k">-&gt;</span> _) <span class="i">source</span>, <span class="i">mapping</span>)
</code></pre></td>
</tr>
</table>
<p>That's it.</p>
<p>Take a function 'T-&gt;'U and a source type 'A and spit back out 'B
Static member constraint specified that type A has to define Map with type _*_ -&gt; _</p>
</section>
<section >
<h3>Let's run our tree through it</h3>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">let</span> <span class="k">inline</span> <span class="i">nsmap</span> (<span class="i">mapping</span> <span class="o">:</span><span class="o">&#39;</span><span class="i">T</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">U</span>) (<span class="i">source</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">A</span>) <span class="o">:</span> <span class="o">&#39;</span><span class="i">B</span> <span class="o">=</span>  
    (<span class="o">^</span><span class="i">A</span> <span class="o">:</span> (<span class="k">static</span> <span class="k">member</span> <span onmouseout="hideTip(event, 'fs85', 389)" onmouseover="showTip(event, 'fs85', 389)" class="i">Map</span><span class="o">:</span> _ <span class="o">*</span> _ <span class="k">-&gt;</span> _) <span class="i">source</span>, <span class="i">mapping</span>)
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs67', 390)" onmouseover="showTip(event, 'fs67', 390)" class="i">Tree</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">t</span><span class="o">&gt;</span> <span class="o">=</span>
    | <span onmouseout="hideTip(event, 'fs67', 391)" onmouseover="showTip(event, 'fs67', 391)" class="i">Tree</span> <span class="k">of</span> <span class="o">&#39;</span><span class="i">t</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs67', 392)" onmouseover="showTip(event, 'fs67', 392)" class="i">Tree</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">t</span><span class="o">&gt;</span> <span class="o">*</span> <span onmouseout="hideTip(event, 'fs67', 393)" onmouseover="showTip(event, 'fs67', 393)" class="i">Tree</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">t</span><span class="o">&gt;</span>
    | <span onmouseout="hideTip(event, 'fs68', 394)" onmouseover="showTip(event, 'fs68', 394)" class="i">Leaf</span> <span class="k">of</span> <span class="o">&#39;</span><span class="i">t</span>
    <span class="k">static</span> <span class="k">member</span> <span onmouseout="hideTip(event, 'fs85', 395)" onmouseover="showTip(event, 'fs85', 395)" class="i">Map</span> (<span onmouseout="hideTip(event, 'fs57', 396)" onmouseover="showTip(event, 'fs57', 396)" class="i">x</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs67', 397)" onmouseover="showTip(event, 'fs67', 397)" class="i">Tree</span><span class="o">&lt;</span><span class="o">&#39;</span><span onmouseout="hideTip(event, 'fs30', 398)" onmouseover="showTip(event, 'fs30', 398)" class="i">a</span><span class="o">&gt;</span>, <span class="i">f</span>) <span class="o">=</span> 
        <span class="k">let</span> <span class="k">rec</span> <span class="i">loop</span> <span class="i">f</span> <span class="o">=</span> <span class="k">function</span>
            | <span onmouseout="hideTip(event, 'fs68', 399)" onmouseover="showTip(event, 'fs68', 399)" class="i">Leaf</span> <span onmouseout="hideTip(event, 'fs57', 400)" onmouseover="showTip(event, 'fs57', 400)" class="i">x</span> <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs68', 401)" onmouseover="showTip(event, 'fs68', 401)" class="i">Leaf</span> (<span class="i">f</span> <span onmouseout="hideTip(event, 'fs57', 402)" onmouseover="showTip(event, 'fs57', 402)" class="i">x</span>)
            | <span onmouseout="hideTip(event, 'fs67', 403)" onmouseover="showTip(event, 'fs67', 403)" class="i">Tree</span> (<span onmouseout="hideTip(event, 'fs57', 404)" onmouseover="showTip(event, 'fs57', 404)" class="i">x</span>, <span onmouseout="hideTip(event, 'fs23', 405)" onmouseover="showTip(event, 'fs23', 405)" class="i">t1</span>, <span onmouseout="hideTip(event, 'fs24', 406)" onmouseover="showTip(event, 'fs24', 406)" class="i">t2</span>) <span class="k">-&gt;</span> <span onmouseout="hideTip(event, 'fs67', 407)" onmouseover="showTip(event, 'fs67', 407)" class="i">Tree</span> (<span class="i">f</span> <span onmouseout="hideTip(event, 'fs57', 408)" onmouseover="showTip(event, 'fs57', 408)" class="i">x</span>, <span class="i">loop</span> <span class="i">f</span> <span onmouseout="hideTip(event, 'fs23', 409)" onmouseover="showTip(event, 'fs23', 409)" class="i">t1</span>, <span class="i">loop</span> <span class="i">f</span> <span onmouseout="hideTip(event, 'fs24', 410)" onmouseover="showTip(event, 'fs24', 410)" class="i">t2</span>)
        <span class="i">loop</span> <span class="i">f</span> <span onmouseout="hideTip(event, 'fs57', 411)" onmouseover="showTip(event, 'fs57', 411)" class="i">x</span>

<span class="k">let</span> <span class="i">nsres</span> <span class="o">=</span> <span class="i">nsmap</span> (<span class="o">(*)</span> <span class="n">10</span>) (<span onmouseout="hideTip(event, 'fs67', 412)" onmouseover="showTip(event, 'fs67', 412)" class="i">Tree</span>(<span class="n">6</span>, <span onmouseout="hideTip(event, 'fs67', 413)" onmouseover="showTip(event, 'fs67', 413)" class="i">Tree</span>(<span class="n">2</span>, <span onmouseout="hideTip(event, 'fs68', 414)" onmouseover="showTip(event, 'fs68', 414)" class="i">Leaf</span> <span class="n">1</span>, <span onmouseout="hideTip(event, 'fs68', 415)" onmouseover="showTip(event, 'fs68', 415)" class="i">Leaf</span> <span class="n">3</span>), <span onmouseout="hideTip(event, 'fs68', 416)" onmouseover="showTip(event, 'fs68', 416)" class="i">Leaf</span> <span class="n">9</span>))
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>Tree (60,Tree (20,Leaf 10,Leaf 30),Leaf 90)</code></pre></td></tr></table>
<p>Good!</p>
</section>
<section >
<h3>Clean up the sig</h3>
<p>We can use quotations to clean the signature up a little if we like too</p>
<img style="border: none; height:3em;padding-bottom:0em !important;margin:0 !important" src="images/nsmap.png" />
</section>
<section >
<h3>Let's bring that back into a type as a helper function</h3>
<p>...which brings it back identically to the helper type in FSharpPlus's Map Type</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
<span class="l">7: </span>
<span class="l">8: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs85', 417)" onmouseover="showTip(event, 'fs85', 417)" class="i">Map</span> <span class="o">=</span>
    <span class="k">static</span> <span class="k">member</span> <span class="k">inline</span> <span class="i">InvokeOnInstance</span> (<span class="i">mapping</span> <span class="o">:</span><span class="o">&#39;</span><span class="i">T</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">U</span>) (<span class="i">source</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">A</span>) <span class="o">:</span> <span class="o">&#39;</span><span class="i">B</span> <span class="o">=</span> 
        (<span class="o">^</span><span class="i">A</span> <span class="o">:</span> (<span class="k">static</span> <span class="k">member</span> <span onmouseout="hideTip(event, 'fs85', 418)" onmouseover="showTip(event, 'fs85', 418)" class="i">Map</span><span class="o">:</span> _ <span class="o">*</span> _ <span class="k">-&gt;</span> _) <span class="i">source</span>, <span class="i">mapping</span>)

<span class="k">let</span> <span class="k">inline</span> <span class="i">fsmap</span> (<span class="i">f</span><span class="o">:</span><span class="o">&#39;</span><span class="i">T</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">U</span>) (<span onmouseout="hideTip(event, 'fs57', 419)" onmouseover="showTip(event, 'fs57', 419)" class="i">x</span><span class="o">:</span><span class="o">&#39;</span><span class="i">A</span>) <span class="o">:</span><span class="o">&#39;</span><span class="i">B</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs85', 420)" onmouseover="showTip(event, 'fs85', 420)" class="i">Map</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs93', 421)" onmouseover="showTip(event, 'fs93', 421)" class="i">InvokeOnInstance</span> <span class="i">f</span> <span onmouseout="hideTip(event, 'fs57', 422)" onmouseover="showTip(event, 'fs57', 422)" class="i">x</span>

<span class="c">//Re-Use the old Tree Type</span>
<span class="k">let</span> <span class="i">ffs</span> <span class="o">=</span> <span class="i">fsmap</span> (<span class="o">(*)</span> <span class="n">10</span>) (<span onmouseout="hideTip(event, 'fs67', 423)" onmouseover="showTip(event, 'fs67', 423)" class="i">Tree</span>(<span class="n">6</span>, <span onmouseout="hideTip(event, 'fs67', 424)" onmouseover="showTip(event, 'fs67', 424)" class="i">Tree</span>(<span class="n">2</span>, <span onmouseout="hideTip(event, 'fs68', 425)" onmouseover="showTip(event, 'fs68', 425)" class="i">Leaf</span> <span class="n">1</span>, <span onmouseout="hideTip(event, 'fs68', 426)" onmouseover="showTip(event, 'fs68', 426)" class="i">Leaf</span> <span class="n">3</span>), <span onmouseout="hideTip(event, 'fs68', 427)" onmouseover="showTip(event, 'fs68', 427)" class="i">Leaf</span> <span class="n">9</span>))
</code></pre></td>
</tr>
</table>
<table class="pre"><tr><td><pre><code>Tree (60,Tree (20,Leaf 10,Leaf 30),Leaf 90)</code></pre></td></tr></table>
</section>
</section>
<section >
<section >
<h3>Now let's work on Types with overloads</h3>
<h4>The important bits in FSharpPlus</h4>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l"> 1: </span>
<span class="l"> 2: </span>
<span class="l"> 3: </span>
<span class="l"> 4: </span>
<span class="l"> 5: </span>
<span class="l"> 6: </span>
<span class="l"> 7: </span>
<span class="l"> 8: </span>
<span class="l"> 9: </span>
<span class="l">10: </span>
<span class="l">11: </span>
<span class="l">12: </span>
<span class="l">13: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs83', 428)" onmouseover="showTip(event, 'fs83', 428)" class="i">Default2</span> <span class="o">=</span> <span class="k">class</span> <span class="k">end</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs84', 429)" onmouseover="showTip(event, 'fs84', 429)" class="i">Default1</span> <span class="o">=</span> <span class="k">class</span> <span class="k">inherit</span> <span onmouseout="hideTip(event, 'fs83', 430)" onmouseover="showTip(event, 'fs83', 430)" class="i">Default2</span> <span class="k">end</span>

[&lt;<span class="i">Extension</span>;<span onmouseout="hideTip(event, 'fs98', 431)" onmouseover="showTip(event, 'fs98', 431)" class="i">Sealed</span>&gt;]
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs85', 432)" onmouseover="showTip(event, 'fs85', 432)" class="i">Map</span> <span class="o">=</span>
    <span class="k">inherit</span> <span onmouseout="hideTip(event, 'fs84', 433)" onmouseover="showTip(event, 'fs84', 433)" class="i">Default1</span>

    <span class="k">static</span> <span class="k">member</span> <span class="k">inline</span> <span class="i">Invoke</span> (<span class="i">mapping</span> <span class="o">:</span><span class="o">&#39;</span><span class="i">T</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">U</span>) (<span class="i">source</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">A</span>) <span class="o">:</span> <span class="o">&#39;</span><span class="i">B</span> <span class="o">=</span> 
        <span class="k">let</span> <span class="k">inline</span> <span class="i">call</span> (<span class="i">mthd</span> <span class="o">:</span> <span class="o">^</span><span class="i">M</span>, <span class="i">source</span> <span class="o">:</span> <span class="o">^</span><span class="i">I</span>, <span class="i">_output</span> <span class="o">:</span> <span class="o">^</span><span class="i">R</span>) <span class="o">=</span> 
            ((<span class="o">^</span><span class="i">M</span> <span class="k">or</span> <span class="o">^</span><span class="i">I</span> <span class="k">or</span> <span class="o">^</span><span class="i">R</span>) <span class="o">:</span> (<span class="k">static</span> <span class="k">member</span> <span onmouseout="hideTip(event, 'fs85', 434)" onmouseover="showTip(event, 'fs85', 434)" class="i">Map</span><span class="o">:</span> _<span class="o">*</span>_<span class="o">*</span>_ <span class="k">-&gt;</span> _) <span class="i">source</span>, <span class="i">mapping</span>, <span class="i">mthd</span>)
        <span class="i">call</span> (<span onmouseout="hideTip(event, 'fs77', 435)" onmouseover="showTip(event, 'fs77', 435)" class="i">Unchecked</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs78', 436)" onmouseover="showTip(event, 'fs78', 436)" class="i">defaultof</span><span class="o">&lt;</span><span onmouseout="hideTip(event, 'fs85', 437)" onmouseover="showTip(event, 'fs85', 437)" class="i">Map</span><span class="o">&gt;</span>, <span class="i">source</span>, <span onmouseout="hideTip(event, 'fs77', 438)" onmouseover="showTip(event, 'fs77', 438)" class="i">Unchecked</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs78', 439)" onmouseover="showTip(event, 'fs78', 439)" class="i">defaultof</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">B</span><span class="o">&gt;</span>)

<span class="k">let</span> <span class="k">inline</span> <span class="i">fpmap</span> (<span class="i">f</span><span class="o">:</span><span class="o">&#39;</span><span class="i">T</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">U</span>) (<span onmouseout="hideTip(event, 'fs57', 440)" onmouseover="showTip(event, 'fs57', 440)" class="i">x</span><span class="o">:</span><span class="o">&#39;</span><span class="i">A</span>) <span class="o">:</span><span class="o">&#39;</span><span class="i">B</span> <span class="o">=</span> <span onmouseout="hideTip(event, 'fs85', 441)" onmouseover="showTip(event, 'fs85', 441)" class="i">Map</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs96', 442)" onmouseover="showTip(event, 'fs96', 442)" class="i">Invoke</span> <span class="i">f</span> <span onmouseout="hideTip(event, 'fs57', 443)" onmouseover="showTip(event, 'fs57', 443)" class="i">x</span>
</code></pre></td>
</tr>
</table>
</section>
<section >
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">type</span> <span onmouseout="hideTip(event, 'fs83', 444)" onmouseover="showTip(event, 'fs83', 444)" class="i">Default2</span> <span class="o">=</span> <span class="k">class</span> <span class="k">end</span>
<span class="k">type</span> <span onmouseout="hideTip(event, 'fs84', 445)" onmouseover="showTip(event, 'fs84', 445)" class="i">Default1</span> <span class="o">=</span> <span class="k">class</span> <span class="k">inherit</span> <span onmouseout="hideTip(event, 'fs83', 446)" onmouseover="showTip(event, 'fs83', 446)" class="i">Default2</span> <span class="k">end</span>
</code></pre></td>
</tr>
</table>
<p>Are used to help the compiler align which overloads to call.
Let's take a look at how this works in FSharpPlus</p>
</section>
<section >
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="k">static</span> <span class="k">member</span> <span onmouseout="hideTip(event, 'fs85', 447)" onmouseover="showTip(event, 'fs85', 447)" class="i">Map</span> (<span onmouseout="hideTip(event, 'fs57', 448)" onmouseover="showTip(event, 'fs57', 448)" class="i">x</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs64', 449)" onmouseover="showTip(event, 'fs64', 449)" class="i">seq</span><span class="o">&lt;</span>_<span class="o">&gt;</span>    , <span class="i">f</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">T</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">U</span>, <span class="i">_impl</span><span class="o">:</span><span onmouseout="hideTip(event, 'fs83', 450)" onmouseover="showTip(event, 'fs83', 450)" class="i">Default2</span>) <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs65', 451)" onmouseover="showTip(event, 'fs65', 451)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs66', 452)" onmouseover="showTip(event, 'fs66', 452)" class="i">map</span> <span class="i">f</span> <span onmouseout="hideTip(event, 'fs57', 453)" onmouseover="showTip(event, 'fs57', 453)" class="i">x</span>              <span class="o">:</span> <span onmouseout="hideTip(event, 'fs64', 454)" onmouseover="showTip(event, 'fs64', 454)" class="i">seq</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">U</span><span class="o">&gt;</span>
<span class="k">static</span> <span class="k">member</span> <span onmouseout="hideTip(event, 'fs85', 455)" onmouseover="showTip(event, 'fs85', 455)" class="i">Map</span> (<span onmouseout="hideTip(event, 'fs57', 456)" onmouseover="showTip(event, 'fs57', 456)" class="i">x</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs49', 457)" onmouseover="showTip(event, 'fs49', 457)" class="i">option</span><span class="o">&lt;</span>_<span class="o">&gt;</span> , <span class="i">f</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">T</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">U</span>, <span class="i">_mthd</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs85', 458)" onmouseover="showTip(event, 'fs85', 458)" class="i">Map</span>)    <span class="o">=</span> 
    <span onmouseout="hideTip(event, 'fs50', 459)" onmouseover="showTip(event, 'fs50', 459)" class="i">Option</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs51', 460)" onmouseover="showTip(event, 'fs51', 460)" class="i">map</span>  <span class="i">f</span> <span onmouseout="hideTip(event, 'fs57', 461)" onmouseover="showTip(event, 'fs57', 461)" class="i">x</span>
</code></pre></td>
</tr>
</table>
<ul>
<li>
The third parameter is an unused param of type Default2(where Default2 &lt;- Default1 &lt;- Map).<br />
-- In most cases it's typed to the current class.
</li>
<li>In seq's case, it's kicked up the class hierarchy to default2.</li>
</ul>
<p>I still can't say why for sure at this point, but this appears to be used to type methods back to this class, and in some cases massage
the type checker and compiler back into compliance with what we're trying to do.<br />
More on the last part in the next slide...</p>
</section>
<section >
<h3>Seq messed things up. Other things probably do too.</h3>
<p>Having seq in the mix messes up the typing of the generic map function by forcing it to be constrained to the seq type.
We actually hit this problem in our above operator overloading methods, but I cut sequence out to save the discussion for this slide.</p>
<table class="pre"><tr><td class="lines"><pre class="fssnip"><span class="l">1: </span>
<span class="l">2: </span>
<span class="l">3: </span>
<span class="l">4: </span>
<span class="l">5: </span>
<span class="l">6: </span>
</pre></td>
<td class="snippet"><pre class="fssnip highlighted"><code lang="fsharp"><span class="c">// Restricted -- needed for seq</span>
<span class="k">static</span> <span class="k">member</span> <span onmouseout="hideTip(event, 'fs85', 462)" onmouseover="showTip(event, 'fs85', 462)" class="i">Map</span> (<span onmouseout="hideTip(event, 'fs57', 463)" onmouseover="showTip(event, 'fs57', 463)" class="i">x</span> <span class="o">:</span> <span class="i">Dictionary</span><span class="o">&lt;</span>_,_<span class="o">&gt;</span>, <span class="i">f</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">T</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">U</span>, <span class="i">_mthd</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs85', 464)" onmouseover="showTip(event, 'fs85', 464)" class="i">Map</span>) <span class="o">=</span> 
    <span class="k">let</span> <span class="i">d</span> <span class="o">=</span> <span class="i">Dictionary</span>() <span class="k">in</span> <span onmouseout="hideTip(event, 'fs65', 465)" onmouseover="showTip(event, 'fs65', 465)" class="i">Seq</span><span class="o">.</span><span onmouseout="hideTip(event, 'fs94', 466)" onmouseover="showTip(event, 'fs94', 466)" class="i">iter</span> 
        (<span class="k">fun</span> (<span onmouseout="hideTip(event, 'fs95', 467)" onmouseover="showTip(event, 'fs95', 467)" class="i">KeyValue</span>(<span class="i">k</span>, <span class="i">v</span>)) <span class="k">-&gt;</span> <span class="i">d</span><span class="o">.</span><span class="i">Add</span>(<span class="i">k</span>, <span class="i">f</span> <span class="i">v</span>)) <span onmouseout="hideTip(event, 'fs57', 468)" onmouseover="showTip(event, 'fs57', 468)" class="i">x</span>; <span class="i">d</span><span class="o">:</span> <span class="i">Dictionary</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">Key</span>,<span class="o">&#39;</span><span class="i">U</span><span class="o">&gt;</span>
<span class="k">static</span> <span class="k">member</span> <span onmouseout="hideTip(event, 'fs85', 469)" onmouseover="showTip(event, 'fs85', 469)" class="i">Map</span> (<span onmouseout="hideTip(event, 'fs57', 470)" onmouseover="showTip(event, 'fs57', 470)" class="i">x</span> <span class="o">:</span> <span class="i">Expr</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">T</span><span class="o">&gt;</span>       , <span class="i">f</span> <span class="o">:</span> <span class="o">&#39;</span><span class="i">T</span><span class="k">-&gt;</span><span class="o">&#39;</span><span class="i">U</span>, <span class="i">_mthd</span> <span class="o">:</span> <span onmouseout="hideTip(event, 'fs85', 471)" onmouseover="showTip(event, 'fs85', 471)" class="i">Map</span>) <span class="o">=</span> 
    <span class="i">Expr</span><span class="o">.</span><span class="i">Cast</span><span class="o">&lt;</span><span class="o">&#39;</span><span class="i">U</span><span class="o">&gt;</span>(<span class="i">Expr</span><span class="o">.</span><span class="i">Application</span>(<span class="i">Expr</span><span class="o">.</span><span class="i">Value</span>(<span class="i">f</span>),<span onmouseout="hideTip(event, 'fs57', 472)" onmouseover="showTip(event, 'fs57', 472)" class="i">x</span>))
</code></pre></td>
</tr>
</table>
<p>The above code fixes the type inference on map when seq is added... Not entire sure why. But it does.<br />
Without it, map won't work for anything other than a sequence</p>
</section>
<section >
<h3>That's it.</h3>
<p>With the code we just covered we're back at the minimum generic mapping Type we showed code to earlier</p>
</section>
</section>
<section >
<h1>The End</h1>
<img style="border: none; height:3em; padding-left:5em" src="images/fsharp.png" alt="FSharp logo" />
<img style="border: none; height:3em; padding-left:5em" src="images/Prolucid-Logo-White.png" alt="Prolucid logo" />
<br />
Questions?
<ul>
<li>William Coletto</li>
<li>@willisbueller</li>
<li>github/angrydexterous</li>
</ul>
</section>


        </div>
    </div>
    <script src="lib/js/head.min.js"></script>
    <script src="js/reveal.js"></script>
    <script>
        // Add the nohighlight class and data-noescape attribute to code elements that have already been formatted by FSharp.Formatting
        $('pre.highlighted code').addClass('nohighlight').attr('data-noescape', '');

        // Full list of configuration options available here:
        // https://github.com/hakimel/reveal.js#configuration
        Reveal.initialize({
            controls: true,
            progress: true,
            history: true,
            center: true,

            transition: 'default', // default/cube/page/concave/zoom/linear/fade/none

            // Parallax scrolling
            // parallaxBackgroundImage: 'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg',
            // parallaxBackgroundSize: '2100px 900px',

            // Optional libraries used to extend on reveal.js
            dependencies: [
                { src: 'lib/js/classList.js', condition: function () { return !document.body.classList; } },
                { src: 'plugin/markdown/marked.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },
                { src: 'plugin/markdown/markdown.js', condition: function () { return !!document.querySelector('[data-markdown]'); } },
                { src: 'plugin/highlight/highlight.js', async: true, callback: function () { hljs.initHighlightingOnLoad(); } },
                { src: 'plugin/zoom-js/zoom.js', async: true, condition: function () { return !!document.body.classList; } },
                { src: 'plugin/notes/notes.js', async: true, condition: function () { return !!document.body.classList; } }
            ]
        });

    </script>
</body>
</html>

